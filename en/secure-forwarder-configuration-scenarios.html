<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Secure Forwarder Configuration Scenarios</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="configure-tcp-connection-parameters-212662.html" title="Configure TCP Connection Parameters"></link><link rel="next" href="secure-forwarder-configuration-scenarios.html#idp230290" title="Configure Netskope Secure Forwarder with Infoblox DNS Server"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script async="" src="https://www.googletagmanager.com/gtag/js?id=256425220"></script><script type="text/javascript">var propertyid = '256425220';

						window.dataLayer = window.dataLayer || [];
						function gtag(){dataLayer.push(arguments)};
						gtag('js', new Date());
						
						gtag('config', propertyid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link">Â <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="appliances.html">Appliances</a></li><li class="breadcrumb-link"><a href="secure-forwarder-105150.html">Secure Forwarder</a></li><li class="breadcrumb-node">Secure Forwarder Configuration Scenarios</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-tcp-connection-parameters-212662.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="secure-forwarder-configuration-scenarios.html#idp230290">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-48c84b7a-b6c5-7d60-a6b3-d8a90dc5068c" data-permalink="secure-forwarder-configuration-scenarios.html" data-topic-level="1" data-relative-prefix="" data-time-modified="January 17, 2020" data-publication-date="" id="UUID-6c3d57c4-513e-3fe1-2c8d-4f27b2ca6974"><div class="titlepage"><div><div class="title"><h4 class="title">Secure Forwarder Configuration Scenarios</h4></div></div></div><p>The configuration scenarios explained in this section are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Configure Netskope Secure Forwarder with Infoblox DNS Server</p></li><li class="listitem"><p>Configure Netskope Secure Forwarder with Microsoft AD DNS Server</p></li><li class="listitem"><p>Configure Netskope Secure Forwarder with a 3rd-party Explicit Proxy and PAC File</p></li></ul></div><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp230290"><div class="titlepage"><div><div class="title"><h5 class="title">Configure Netskope Secure Forwarder with Infoblox DNS Server</h5></div></div></div><p>In a network setup where Infoblox DNS servers are deployed, the Secure Forwarder can be configured to automatically create and upd ate Forward Zones for cloud apps that are managed.</p><p>To configure the Infoblox DNS server:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open an nsshell and enter the command <strong class="userinput"><code>configure</code></strong></p></li><li class="listitem"><p>Specify the Infoblox Master DNS Server hostname or IP:</p><pre class="programlisting">set external-dns infoblox hostname <span class="emphasis"><em>&lt;hostname or IP&gt;</em></span></pre></li><li class="listitem"><p>Enter the credentials of a user who has permissions to add and modify Forward Zones:</p><pre class="programlisting">set external-dns infoblox username <span class="emphasis"><em>&lt;username&gt;</em></span>
set external-dns infoblox password <span class="emphasis"><em>&lt;password&gt;</em></span></pre></li><li class="listitem"><p>Save the configuration with the command <strong class="userinput"><code>save</code></strong>, and then press <span class="bold bold"><strong>Enter</strong></span>.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You must save the configuration prior to enabling the external-dns infoblox process.</p></div></li></ol></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp230313"><div class="titlepage"><div><div class="title"><h5 class="title">Enable the External DNS Infoblox Process</h5></div></div></div><p>To enable updates to the Infoblox DNS server:</p><pre class="programlisting">set external-dns infoblox enable <span class="emphasis"><em>&lt;true or false&gt;</em></span></pre><p>Save the entire configuration with the command <strong class="userinput"><code>save</code></strong>, and then press <span class="bold bold"><strong>Enter</strong></span>.</p></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp230321"><div class="titlepage"><div><div class="title"><h5 class="title">Configure Netskope Secure Forwarder with Microsoft AD DNS Server</h5></div></div></div><p>Please refer to Netskope Adapter installation guide for details on integrating Secure Forwarder with Microsoft AD DNS Server.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Ensure that DNS Connector is configured. See  for details.</p></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp230326"><div class="titlepage"><div><div class="title"><h5 class="title">Configure Netskope Secure Forwarder with a 3rd-party Explicit Proxy and PAC File</h5></div></div></div><p>Secure Forwarder can be configured to run as an explicit proxy and all cloud app traffic can be proxied through the Secure Forwarder while other traffic can go through the existing proxy server. To do this, the Secure Forwarder needs to be configured to download the existing PAC file and in turn host a modified PAC file that redirects cloud app traffic to the Secure Forwarder ' s proxy server and retains the PAC file rules for all other traffic.</p><p id="UUID-6c3d57c4-513e-3fe1-2c8d-4f27b2ca6974_ConfigurePACFIle">If you want to direct the cloud app traffic to the appliance and the web traffic to your existing proxy server, configure the merged PAC file server on the<span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open an nsshell and enter the command <code class="literal">configure</code>.</p></li><li class="listitem"><p>Set the IP address to host the merged PAC file server on the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span>. If not provided, the IP address of the DNS server is used if it is configured:</p><pre class="programlisting">set dataplane pac-server listener-ip <span class="italic italic">&lt;PAC server IP&gt;</span></pre><p>In appliance version 58 and higher, run the following command.</p><pre class="programlisting">set dataplane pac-server listener-interface <span class="italic italic">&lt;PAC server interface&gt;</span></pre></li><li class="listitem"><p>Set the TCP port to host the merged PAC file server on the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span>:</p><pre class="programlisting">set dataplane pac-server listener-port <span class="italic italic">&lt;PAC server port&gt;</span></pre></li><li class="listitem"><p>Set the URL of the existing PAC file server:</p><pre class="programlisting">set dataplane pac-server url http://wpad.yourdomain.com/wpad.dat
</pre></li><li class="listitem"><p>Enable the PAC file server:</p><pre class="programlisting">set dataplane pac-server enable true</pre></li><li class="listitem"><p>Save the configuration:</p><pre class="programlisting">save</pre><p>The PAC file will be hosted at <code class="literal">http://<span class="emphasis"><em>&lt;PAC server IP&gt;</em></span>:<span class="emphasis"><em>&lt;pac-server-port&gt;</em></span>/wpad.dat</code> and <code class="literal">http://<span class="emphasis"><em>&lt;PAC server IP&gt;</em></span>:<span class="emphasis"><em>&lt;pac-server-port&gt;</em></span> /proxy.pac</code>.</p></li><li class="listitem"><p>Enable the explicit proxy mode for the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span> by doing the following:</p><pre class="programlisting">set dataplane proxy-mode explicit enable true</pre></li><li class="listitem"><p>Optionally, specify the fully-qualified domain name that resolves to the IP configured for the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span>. This host name will be used in the merged PAC file. If this setting is not provided, the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span> IP will be present in the merged PAC file.</p><pre class="programlisting">set dataplane pac-server hostname sfproxy.yourdomain.com</pre></li><li class="listitem"><p>Optionally specify the TCP port for hosting the <span class="phrase">Secure Forwarder</span> explicit proxy. The default port used by the <span class="phrase"> appliance</span><span class="phrase">Secure Forwarder</span> is 8080.</p><pre class="programlisting">set dataplane proxy-mode explicit listener-port <span class="emphasis"><em>&lt;explicit proxy port&gt;</em></span></pre></li><li class="listitem"><p>Save the configuration.</p><pre class="programlisting">save</pre></li></ol></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-6c3d57c4-513e-3fe1-2c8d-4f27b2ca6974">Secure Forwarder Configuration Scenarios</a></li><li><a href="#idp230290">Configure Netskope Secure Forwarder with Infoblox DNS Server</a></li><li><a href="#idp230313">Enable the External DNS Infoblox Process</a></li><li><a href="#idp230321">Configure Netskope Secure Forwarder with Microsoft AD DNS Server</a></li><li><a href="#idp230326">Configure Netskope Secure Forwarder with a 3rd-party Explicit Proxy and PAC File</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Secure%20Forwarder%20Configuration%20Scenarios%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Secure%20Forwarder%20Configuration%20Scenarios%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-tcp-connection-parameters-212662.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="secure-forwarder-configuration-scenarios.html#idp230290">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> Â© 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">January 17, 2020</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
