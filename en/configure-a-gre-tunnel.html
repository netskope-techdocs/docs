<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'search';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Configure a GRE Tunnel</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="index-en.html#section-idm43258896855066" title="Netskope Cloud Firewall Key Benefits and Capabilities"></link><link rel="next" href="configure-a-gre-tunnel.html#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642090358" title="Prerequisites"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-43072218-5"></script><script type="text/javascript">var propertyid = 'UA-43072218-5';

						window.dataLayer = window.dataLayer || [];
						function gtag(){dataLayer.push(arguments)};
						gtag('js', new Date());

						gtag('config', propertyid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="configure-a-gre-tunnel.html" class="topic-link section" data-origin-id="UUID-9114fdd4-4f8c-44c2-a8db-fa8938368d27" data-permalink="configure-a-gre-tunnel.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Configure a GRE Tunnel</a><ul></ul></li><li><a href="configure-an-ipsec-tunnel.html" class="topic-link section" data-origin-id="UUID-d7abc28e-52c4-3581-676c-b21a3d6b686c" data-permalink="configure-an-ipsec-tunnel.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Configure an IPSec Tunnel</a><ul></ul></li><li><a href="gre---ipsec-tunnel-gateway---http-s--non-standard-port-support.html" class="topic-link section" data-origin-id="UUID-9e170a0d-49d3-64d2-3188-11e376ec8de4" data-permalink="gre---ipsec-tunnel-gateway---http-s--non-standard-port-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">GRE &amp; IPSec Tunnel Gateway - HTTP(S) Non-Standard Port Support</a><ul></ul></li><li><a href="netskope-client-support-in-cloud-firewall.html" class="topic-link section" data-origin-id="UUID-0879f321-52a9-0156-657c-357caed207db" data-permalink="netskope-client-support-in-cloud-firewall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Netskope Client Support in Cloud Firewall</a><ul></ul></li><li><a href="network-location.html" class="topic-link section" data-origin-id="UUID-d28e68a9-9340-10b4-6622-e4c40a633fc4" data-permalink="network-location.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Network Location</a></li><li><a href="configure-custom-applications.html" class="topic-link section" data-origin-id="UUID-c236cea6-a8bb-a4e0-6bd1-e1bc4bf8a924" data-permalink="configure-custom-applications.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">App Definition</a><ul></ul></li><li><a href="inline-policies.html" class="topic-link section" data-origin-id="UUID-cead54a2-4ca6-fc2b-50c1-cc6167d663c3" data-permalink="inline-policies.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Real-time Protection Policies</a><ul><li><a href="add-users.html" class="topic-link section" data-origin-id="UUID-24de1c1e-ad4f-f3d8-7a26-d0b2a1f34839" data-permalink="add-users.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Add Users</a></li></ul></li><li><a href="ssl-decryption.html" class="topic-link section" data-origin-id="UUID-bd851329-50c9-3836-c6a9-dcb9719c5697" data-permalink="ssl-decryption.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> SSL Decryption</a><ul><li><a href="add-a-policy-for-ssl-decryption.html" class="topic-link section" data-origin-id="UUID-76e1a926-9fc3-639c-580f-c5b29104f20c" data-permalink="add-a-policy-for-ssl-decryption.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Add a Policy for SSL Decryption</a></li><li><a href="add-new-network-location-for-ssl-decryption.html" class="topic-link section" data-origin-id="UUID-e176f495-121e-b212-6256-29834b357dd1" data-permalink="add-new-network-location-for-ssl-decryption.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Add New Network Location for SSL Decryption</a></li></ul></li><li><a href="exceptions.html" class="topic-link section" data-origin-id="UUID-ecf4cc76-fb39-49b7-a899-e8587a1b3fb8" data-permalink="exceptions.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Exceptions</a></li><li><a href="cloud-firewall-network-events-and-alerts.html" class="topic-link section" data-origin-id="UUID-d337f579-2822-5853-b871-8ec0989e4f37" data-permalink="cloud-firewall-network-events-and-alerts.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Cloud Firewall Network Events and Alerts</a></li></ul></aside><div class="site-content"><h1 class="publication-title">Netskope Cloud Firewall</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Cloud Firewall</a></li><li class="breadcrumb-node">Configure a GRE Tunnel</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="index-en.html#section-idm43258896855066">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="configure-a-gre-tunnel.html#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642090358">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-9114fdd4-4f8c-44c2-a8db-fa8938368d27" data-permalink="configure-a-gre-tunnel.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Configure a GRE Tunnel</h2></div></div></div><p id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_para-idm43200641173092">Generic Routing Encapsulation (GRE) is a tunneling protocol for encapsulating packets inside a transport protocol. A GRE tunnel functions like a VPN but without encryption; it transports packets from one endpoint to another endpoint. A GRE establishing or terminating device, encapsulates a payload packet inside a GRE packet, which it then sends over the internet.</p><p id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_para-idm43200641693654">GRE can steer HTTP(S) and non-HTTP(S) traffic to the Netskope cloud. The Netskope GRE gateway validates the source IP of the tunnel as a known IP address which must be configured in the Netskope UI. </p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642090358"><div class="titlepage"><div><div class="title"><h3 class="title">Prerequisites</h3></div></div></div><p>To use GRE:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_listitem-idm43203762468196"><p>Ensure you have a Netskope Cloud Firewall license, which enables GRE in your tenant.</p></li><li class="listitem"><p>Configure your source device to establish the GRE tunnel. Refer to your device documentation for specific configuration instructions. </p></li><li class="listitem"><p>Configure your firewall, if any, to allow the GRE tunnel. If a firewall has an ACL blocking inbound connections, configure a rule to allow GRE traffic. Refer to your firewall documentation for specific configuration instructions.</p></li><li class="listitem"><p>If your source peer network uses NAT based on an endpoint IP address, the Netskope GRE service will observe only one IP address, and that will impact GRE load balancing, performance, reporting, and policy granularity.  Your source peer network should not NAT an endpoint IP address.</p></li><li class="listitem" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_listitem-idm43261809066442"><p>The GRE gateway node can respond to ICMP probes/keep-alives only when the destination IP value in the inner IP packet matches the GRE gateway probe IP listed in the GRE gateway UI Dashboard corresponding to the Netskope POP. Otherwise, the probe packets are dropped by GRE.</p></li><li class="listitem"><p>Set the recommended Maximum Transmission Unit (MTU) and Maximum Segment Size (MSS). For more information, see <a class="xref" href="configure-a-gre-tunnel.html#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_N1602754552653" title="Deploying GRE Tunnels"><span class="xreftitle">Deploying GRE Tunnels</span></a>.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642656060"><div class="titlepage"><div><div class="title"><h3 class="title">Workflow</h3></div></div></div><p>The primary steps to configure GRE include:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Configure GRE in the Netskope UI.  </p></li><li class="listitem"><p>Configure the GRE tunnel from the source device so that a primary and a failover exists. You can configure as many GRE tunnels as needed from the sites that you tunnel traffic from. Netskope currently does not have a limit on the number of GRE tunnels to configure. Each tunnel supports up to 1 Gbps throughput.</p></li></ol></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200643009858"><div class="titlepage"><div><div class="title"><h3 class="title">Configure GRE in the Netskope UI</h3></div></div></div><p>Add the IP addresses of your routers/firewalls in the Netskope admin console and copy Netskope POPs IP addresses to establish GRE tunnels on your devices.  Netskope recommends having two tunnels for each egress location in your network.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt;Traffic Steering &gt; GRE.</strong></span> </p></li><li class="listitem"><p>Click <span class="bold bold"><strong>New GRE Configuration</strong></span> to register your devices.</p></li><li class="listitem"><p>Enter a name for the tunnel in the Configuration Name field.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-f926f319-feb9-6f80-91dc-8cbf617239ed.png" style="max-width: 405px; " alt="GREnewConfig.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter the source peer IP address (exit public IP) of your router/firewall that Netskope will receive packets from. Netskope identifies traffic belonging to your organization through your router/firewall IP addresses.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save and View POPs</strong></span>. Copy the Netskope points of presence (POP) IP addresses for the two locations closest to you. You will need this information to establish GRE tunnels on your devices.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-d2143a97-3251-2c45-16b0-418c9746aea0.png" style="max-width: 405px; " alt="GREviewPOPs.png"></img></td></tr></table></div></li></ol></div><p>After a tunnel has been established on your devices, the tunnel appears in the table on the GRE page. The table shows the configuration name, source peer, Netskope POP(s), user traffic status, keepalive status, and throughput in kilobytes per second (Kpbs). The user traffic status types are Seen and Unseen.</p><p>Click on a tunnel name to edit the GRE tunnel configuration. Also, click the <span class="inlinemediaobject"><img style="max-width: 23px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png"></img></span> icon to the right of the tunnel listing to edit, enable, disable, or delete the tunnel.</p><p>You can also search for tunnel configuration using the filters for source peer, Netskope POP, User Traffic Status, and Keepalive Status.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200645412178"><div class="titlepage"><div><div class="title"><h3 class="title">Configure GRE Tunnels on Source Device</h3></div></div></div><p>Netskope recommends configuring two GRE tunnels from your location to the Netskope POPs. This ensures high availability for tunneling traffic through GRE. Here is an example of how to configure your GRE tunnels:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:600px;
                            "><tr><td style="padding:0;"><img src="image/uuid-8703bc1b-e2c6-de6f-0405-451443c6e820.png" style="max-width: 600px; " alt="GRETunnel_CFW.png"></img></td></tr></table></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Configure your router/firewall for GRE. Refer to Deploying GRE Tunnels and Monitoring GRE Tunnels below for specifics.</p></li><li class="listitem"><p>Configure the GRE tunnels to direct traffic to the Netskope POPs. </p></li><li class="listitem"><p>Traffic is directed through the Netskope cloud. </p></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_N1602754552653"><div class="titlepage"><div><div class="title"><h4 class="title">Deploying GRE Tunnels</h4></div></div></div><p>Create two GRE tunnels for each egress location in your network. Having two GRE tunnels ensures that connectivity is maintained in the event of an outage on the primary tunnel. The second GRE tunnel takes over until the first GRE tunnel gets restored. The second tunnel should be connected to a different Netskope data center than the first one.</p><p>Ensure the GRE key is not specified even if it is available in the CPE configuration.</p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Use policy-based routing to steer non-HTTP(S) traffic (TCP, UDP, and ICMP) through the GRE tunnels.</p></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm232055092921629"><div class="titlepage"><div><div class="title"><h5 class="title">MTU Configuration Recommendation</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>L3 MTU size on the client devices that will send traffic to the Netskope Cloud Firewall should be set to 1476 bytes. The MTU value at the router or firewall can continue with the default MTU value of 1500 bytes.</p></li><li class="listitem"><p>Netskope recommends UDP applications on the client devices to support path MTU discovery (PMTUD) to avoid IP fragmentation if the MTU value is not changed to 1476 bytes.</p></li><li class="listitem"><p>If the IP packet size exceeds 1476 bytes and has the Don't Fragment (DF) bit set, Netskope GRE gateway drops the packet and sends the client an ICMP destination unreachable message with a code indicating "fragmentation needed and DF set". If the IP packet doesn't have the DF bit set, Netskope GRE gateway silently drops the packet.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm232055106333232"><div class="titlepage"><div><div class="title"><h5 class="title">TCP MSS Recommendation</h5></div></div></div><p>Netskope GRE gateway adjusts MSS automatically for TCP traffic.</p></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46201673859456"><div class="titlepage"><div><div class="title"><h4 class="title">Monitoring GRE Tunnels</h4></div></div></div><p>Monitor your GRE tunnels to ensure failover between the primary and backup GRE tunnels. Enable GRE keepalives as a basic detection mechanism. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You can use IPSLA or keepalive on the tunnel interface to monitor the tunnels.</p><p>Keepalive on devices use a GRE packet with the source and destination IP addresses reversed to be sent as the inner payload from the source peer. The GRE destination relays the inner packet to indicate the tunnel is up.</p></li><li class="listitem"><p>Or you can use RPM or keepalive to monitor the tunnels.</p><p>Keepalive on devices use an ICMP packet with the endpoint’s inner IPs to be sent over the GRE tunnel. These inner IPs are allocated by Netskope so that Netskope GRE gateway can be configured to respond that the tunnel is up.</p></li></ul></div><p>For high-availability, keepalive functionality enables GRE endpoints to failover to a backup tunnel if a response is not received. The Netskope GRE gateway sends back a keepalive response only if there are no health check issues with a tenant specific proxy.</p><p>If the Netskope GRE gateway does not observe any keepalive packet within a minute, then the tunnel probe status will be flagged as down, and the GRE service will update the keepalive status as <span class="emphasis"><em>Not Seen</em></span> in the Netskope UI. </p></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200662980712"><div class="titlepage"><div><div class="title"><h3 class="title">Troubleshooting</h3></div></div></div><p>If end-to-end traffic is not working:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Check if the GRE tunnel status to see if it is up on the exit router.</p></li><li class="listitem"><p>Check the tunnel interface counters to see if they are going up or not, which would indicate the transit of traffic.</p></li><li class="listitem"><p>If a tunnel is down, check to make sure the GRE/ICMP keepalives sent by the exit router is receiving the keepalive response back. </p></li><li class="listitem"><p>If a tunnel is down, end-to-end traffic should be working through the router's default-gateway.</p></li><li class="listitem"><p>If the tunnel is up, check the route-map configured to re-direct the traffic.</p></li><li class="listitem"><p>Make sure the firewall is allowing GRE traffic.</p></li><li class="listitem"><p>Make sure the router exit IP (public IP) is added to the GRE page from Netskope console (tenant UI).</p></li><li class="listitem"><p>Contact Netskope Support.</p></li></ul></div><p>Performance issues:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Check the MTR against the Netskope GRE IP address. It should show RTT between your environment to the Netskope Cloud. It will also show packet drops.</p></li><li class="listitem"><p>Capture packets at the endpoint egress interface using Wireshark. It will show complete TCP statistics.</p></li></ul></div><p>GRE device status:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Login into the source peer device to determine the GRE tunnel status. If the tunnel is down, there is high chance that the device is not able to communicate with Netskope GRE service, or this GRE node/site is not yet provisioned. Go to the Netskope GRE page to confirm.</p></li></ul></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b">Configure a GRE Tunnel</a></li><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642090358">Prerequisites</a></li><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642656060">Workflow</a></li><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200643009858">Configure GRE in the Netskope UI</a></li><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200645412178">Configure GRE Tunnels on Source Device</a><ul class="nav"><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_N1602754552653">Deploying GRE Tunnels</a><ul class="nav"></ul></li><li><a href="#idm46201673859456">Monitoring GRE Tunnels</a></li></ul></li><li><a href="#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200662980712">Troubleshooting</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Configure%20a%20GRE%20Tunnel%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Configure%20a%20GRE%20Tunnel%22%20in%20the%20publication%20%22Netskope%20Cloud%20Firewall%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="index-en.html#section-idm43258896855066">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="configure-a-gre-tunnel.html#UUID-4ac0c477-97a6-c6fd-5376-c0609b95e01b_section-idm43200642090358">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
