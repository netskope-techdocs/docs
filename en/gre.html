<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>GRE</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="ipsec.html#UUID-eea08867-524b-6394-e5ef-31ef061e6f36_N1571089119960" title="Use SAML Authentication"></link><link rel="next" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062800988" title="Prerequisites"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script async="" src="https://www.googletagmanager.com/gtag/js?id=256425220"></script><script type="text/javascript">var propertyid = '256425220';

						window.dataLayer = window.dataLayer || [];
						function gtag(){dataLayer.push(arguments)};
						gtag('js', new Date());
						
						gtag('config', propertyid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="traffic-management.html">Traffic Management</a></li><li class="breadcrumb-link"><a href="netskope-secure-web-gateway.html"> <span class="phrase"><span class="phrase">Netskope Secure Web Gateway</span></span></a></li><li class="breadcrumb-link"><a href="choose-a-traffic-steering-method.html">Choose a Traffic Steering Method</a></li><li class="breadcrumb-node">GRE</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="ipsec.html#UUID-eea08867-524b-6394-e5ef-31ef061e6f36_N1571089119960">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062800988">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-0cc6c924-fc67-7b8a-fc26-b32c130e56f3" data-permalink="gre.html" data-topic-level="1" data-relative-prefix="" data-time-modified="March 18, 2021" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd"><div class="titlepage"><div><div class="title"><h5 class="title">GRE</h5></div></div></div><p>Generic Routing Encapsulation (GRE) is a tunneling protocol for encapsulating packets inside a transport protocol. A GRE tunnel functions like a VPN but without encryption; it transports packets from one endpoint to another endpoint. A GRE capable router, like Cisco or Juniper, encapsulates a payload packet inside a GRE packet, which it then encapsulates in a transport protocol, such as IP.</p><p>GRE is ideal for steering HTTP and HTTPS traffic to the Netskope cloud. The Netskope GRE gateway validates the source IP of the tunnel as a known IP address which must be configured in the Netskope UI. </p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062800988"><div class="titlepage"><div><div class="title"><h6 class="title">Prerequisites</h6></div></div></div><p>To use GRE:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Configure your source device to establish the GRE tunnel. Refer to your router (or firewall) documentation for specific configuration instructions. </p></li><li class="listitem"><p>Configure your firewalls, if any, to allow the GRE tunnel. If your firewall has an ACL blocking inbound connection, configure a rule to allow GRE traffic. Refer to your firewall documentation for specific configuration instructions.</p></li><li class="listitem"><p>HTTP and HTTPS traffic (typically on ports 80, and 443, but Netskope also supports custom ports) for the GRE (or IPSec) tunnel. Do not send any other traffic through these tunnels.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Netskope negotiates HTTP/2 for all domains if the origin server supports it; otherwise, we fallback to HTTP 1.1. All other traffic will continue to leverage HTTP 1.1. In addition, the Netskope Client, GRE/IPSec, and iOS access methods are fully supported. The protocol change is completely transparent to users, no configuration is required by admins. Contact Support to enable this feature in your account.</p></div></li><li class="listitem"><p>If your source peer network uses NAT based on an endpoint IP address, the Netskope GRE service will observe only one IP address, and that will impact GRE load balancing and performance.  Your source peer network should not NAT an endpoint IP address.</p></li><li class="listitem"><p>Download the Netskope root certificate to provision on the end-user devices. Get the Netskope root certificate from: <span class="bold bold"><strong>Settings &gt; Manage &gt; Certificates</strong></span>. </p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>If the Netskope Client is installed on your end-user devices, you do not need to provision the Netskope root certificate. </p></div></li><li class="listitem"><p>Ensure you have a <span class="phrase">Netskope Secure Web Gateway</span> license, which enables GRE in your tenant.</p></li><li class="listitem"><p>The Maximum Segment Size (MSS) should be configured to account for GRE headers on the WAN interface. Not setting MSS could result in a negative impact on performance.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062852972"><div class="titlepage"><div><div class="title"><h6 class="title">Workflow</h6></div></div></div><p>The primary steps to configure GRE include:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Configure GRE in the Netskope UI.  </p></li><li class="listitem"><p>Configure the GRE tunnel from the source device so that a primary and a failover exists. You can configure as many GRE tunnels as needed from the sites that you tunnel traffic from. Each tunnel supports up to 1 Gbps throughput.</p></li><li class="listitem"><p>Install the Netskope Client or provision the Netskope root certificate on devices.</p></li><li class="listitem"><p>Choose steering/identity options.</p></li></ol></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062883673"><div class="titlepage"><div><div class="title"><h6 class="title">Configure GRE in the Netskope UI</h6></div></div></div><p>Add the IP addresses of your routers/firewalls in the Netskope admin console and copy Netskope POPs IP addresses to establish GRE tunnels on your devices.  Netskope recommends having two tunnels for each egress location in your network.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt;Traffic Steering &gt; GRE.</strong></span> </p></li><li class="listitem"><p>Click <span class="bold bold"><strong>New GRE Configuration</strong></span> to register your devices.</p></li><li class="listitem"><p>Enter a name for the tunnel in the Configuration Name field.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-f926f319-feb9-6f80-91dc-8cbf617239ed-en.png" style="max-width: 405px; " alt="GREnewConfig.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter the source peer IP address (exit public IP) of your router/firewall that Netskope will receive packets from. Netskope identifies traffic belonging to your organization through your router/firewall IP addresses.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save and View POPs</strong></span>. Copy the Netskope points of presence (POP) IP addresses for the two locations closest to you. You will need this information to establish GRE tunnels on your devices.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-d2143a97-3251-2c45-16b0-418c9746aea0-en.png" style="max-width: 405px; " alt="GREviewPOPs.png"></img></td></tr></table></div></li></ol></div><p>After a tunnel has been established on your devices, the tunnel appears in the table on the GRE page. The table shows the configuration name, source peer, Netskope POP(s), user traffic status, keepalive status, and throughput in kilobytes per second (Kpbs). The user traffic status types are Seen and Unseen.</p><p>Click on a tunnel name to edit the GRE tunnel configuration. Also, click the <span class="inlinemediaobject"><img style="max-width: 23px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075-en.png" alt="MenuIcon.png"></img></span> icon to the right of the tunnel listing to edit, enable, disable, or delete the tunnel.</p><p>You can also search for tunnel configuration using the filters for source peer, Netskope POP, User Traffic Status, and Keepalive Status.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062984052"><div class="titlepage"><div><div class="title"><h6 class="title">Configure GRE Tunnels on Source Device</h6></div></div></div><p>Netskope recommends configuring two GRE tunnels from your location to the Netskope POPs. This ensures high availability for tunneling traffic through GRE. Here is an example of how to configure your GRE tunnels:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:495px;
                            "><tr><td style="padding:0;"><img src="image/uuid-83b39d16-6482-010e-ce82-02a829b5c582-en.png" style="max-width: 495px; " alt="GREtunnel.png"></img></td></tr></table></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Configure your router/firewall for GRE. Refer to Deploying GRE Tunnels and Monitoring GRE Tunnels below for specifics.</p></li><li class="listitem"><p>Configure the GRE tunnels to direct traffic to the Netskope POPs. </p></li><li class="listitem"><p>Traffic is directed through the Netskope cloud. </p></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idp208450"><div class="titlepage"><div><div class="title"><h6 class="title">Deploying GRE Tunnels</h6></div></div></div><p>Create two GRE tunnels for each egress location in your network. Having two GRE tunnels ensures that connectivity is maintained in the event of an outage on the primary tunnel. The second GRE tunnel takes over until the first GRE tunnel gets restored. The second tunnel should be connected to a different Netskope data center than the first one.</p><p>Calculate the maximum transmission unit (MTU) and maximum segment size (MSS) needed for your GRE tunnels based on the configuration of  your WAN interface. If the MTU is not properly calculated then higher fragmentation occurs and impacts performance. </p><p>Here is a sample MTU and MSS calculation for a WAN interface that has 1500 bytes:</p><p>WAN Interface MTU = 1500</p><p>WAN Interface MSS = MTU (1500) - IP (20 bytes header) - TCP (20 bytes header) = 1460</p><p>GRE = 4 bytes header</p><p>GRE MTU = MTU (1500) - IP (20) - GRE (4) = 1476</p><p>GRE MSS = GRE MTU (1476) - IP (20) - TCP (20) = 1436</p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Use policy-based routing so only web  traffic is steered through ports 80 and 443 to the GRE tunnels.</p></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idp208462"><div class="titlepage"><div><div class="title"><h6 class="title">Monitoring GRE Tunnels</h6></div></div></div><p>Monitor your GRE tunnels to ensure failover between the primary and backup GRE tunnels. Enable GRE keepalives as a basic detection mechanism. </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For Cisco routers, you can use IPSLA or keepalive on the Cisco tunnel interface to monitor the tunnels.</p><p>Keepalive on Cisco devices use a GRE packet with the source and destination IP addresses reversed to be sent as the inner payload from the source peer. The GRE destination relays the inner packet to indicate the tunnel is up.</p></li><li class="listitem"><p>For Juniper routers, you can use RPM or keepalive to monitor the tunnels.</p><p>Keepalive on Juniper devices use an ICMP packet with the endpoint’s inner IPs to be sent over the GRE tunnel. These inner IPs are allocated by Netskope so that Netskope GRE gateway can be configured to respond that the tunnel is up.</p></li></ul></div><p>For high-availability, keepalive functionality enables GRE endpoints to failover to a backup tunnel if a response is not received. The Netskope GRE gateway sends back a keepalive response only if there are no health check issues with a tenant specific proxy.</p><p>If the Netskope GRE gateway does not observe any keepalive packet within a minute, then the tunnel probe status will be flagged as down, and the GRE service will update the keepalive status as <span class="emphasis"><em>Not Seen</em></span> in the Netskope UI. </p></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063063762"><div class="titlepage"><div><div class="title"><h6 class="title">Traffic Steering and Identity Options</h6></div></div></div><p>To steer traffic and identify users, use one or more of these method.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idp208478"><div class="titlepage"><div><div class="title"><h6 class="title">Install the Netskope Client for Root CA Distribution, User Identity, and User Notifications</h6></div></div></div><p>Installing the Netskope Client is optional, but doing so facilitates the certificate distribution on devices and provides coverage for remote users. The Client provides user identification directly to Netskope and eliminates the need to implement authentication on the GRE tunnel.</p><p>We recommend installing the Client so it can send device and user info to the Netskope Cloud and show user-facing notifications that result from policy violations. To do this, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Devices &gt; Client Configuration</strong></span> and enable the feature <span class="emphasis"><em>Enable Device Classification and Client-Based End User Notifications when the Client is Disabled</em></span>.  When the Client detects a GRE tunnel, it disables the data tunnel (TLS tunnel) to the Netskope platform, but continues sending user identity to Netskope and facilitating user notifications on the endpoint.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idp208485"><div class="titlepage"><div><div class="title"><h6 class="title">Provision Certificates on Devices</h6></div></div></div><p>Certificates only need to be provisioned on devices that do not have the Netskope Client installed. Get the root certificate from the Netskope UI and provision it on your devices. In the Netskope UI, go to <span class="bold bold"><strong>Settings &gt; Manage &gt; Certificates</strong></span> to download the certificates.  Check the product documentation for your devices to learn how to provision the certificates.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idp208489"><div class="titlepage"><div><div class="title"><h6 class="title">Use SAML Authentication</h6></div></div></div><p>If you don't use the Netskope Client, you can use SAML to authenticate a user with your Identity Provider (IdP) before their traffic is tunneled via GRE. Use Netskope as an authentication mode to integrate with an IdP.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp208492"><div class="titlepage"><div><div class="title"><h6 class="title">Enable Authentication</h6></div></div></div><p>You can use SAML to authenticate a user to Netskope before their connection is allowed to traverse the GRE tunnel. Use Netskope as an authentication mode to integrate with an Identity Provider (IdP). This feature acts as an authentication module taking Netskope's framework and an IdP's auth assertion after authentication.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Forward Proxy &gt; Authentication</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Enable Authentication</strong></span>.</p></li><li class="listitem"><p>Click the <span class="bold bold"><strong>Enabled</strong></span> checkbox to turn this feature on.</p></li><li class="listitem"><p>Click<span class="bold bold"><strong> Create New</strong></span> for SAML based authentication. The Add SAML Account window opens.</p></li><li class="listitem"><p>Configure these parameters:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Name: Enter a name identifying the account.</p></li><li class="listitem"><p>IdP URL: Contact your third party Identity Provider and add the unique IdP login URL in this field.</p></li><li class="listitem"><p>IdP Entity ID:  Type your globally unique name for your SAML entity.</p></li><li class="listitem"><p>IdP Certificate: Copy and paste the PEM format certificate of the third party IdP in this field. This is required by Netskope to validate the signature of the SAML assertion.</p></li><li class="listitem"><p>Alternate User ID Field: Netskope looks at the NameID field in the SAML assertion to get the user identity. If you would like to use another field for user identification, type the name of the SAML attribute in this field.</p></li><li class="listitem"><p>Group Attribute: Type your name:value pair to identify / describe your entities user group and role memberships.</p></li></ul></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save</strong></span>.</p></li></ol></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idp208527"><div class="titlepage"><div><div class="title"><h6 class="title">Authentication Bypass Settings</h6></div></div></div><p>You can specify domains, web categories, and network IP addresses for which user authentication is not required.</p><h8 id="idp208531" class="bridgehead">Domain Bypass</h8><p>Click <span class="bold bold"><strong>Edit</strong></span> and add comma-separated URLs to bypass. When finished, click <span class="bold bold"><strong>Save</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-382d9792-0174-08ff-2f67-29a8f9a95ed3-en.png" style="max-width: 405px; " alt="FPauthDomainsBypass.png"></img></td></tr></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Adding your IdP domains here are recommended.</p></div><h8 id="idp208540" class="bridgehead">Web Category Bypass</h8><p>Click <span class="bold bold"><strong>Edit</strong></span> and add comma-separated URLs to bypass. When finished, click <span class="bold bold"><strong>Save</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-7d20ea25-5740-5042-270f-08390be79554-en.png" style="max-width: 405px; " alt="FPauthWebCategoryBypass.png"></img></td></tr></table></div><h8 id="idp208547" class="bridgehead">IP Address Bypass</h8><p>Click <span class="bold bold"><strong>Edit</strong></span> and search for source networks. For each of the networks found, you can choose to bypass based on User IPs or Egress IPs (just one, not both).</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-3ea3112d-ea19-1d34-89a2-67d2b9f8e4a5-en.png" style="max-width: 405px; " alt="FPauthIPaddressBypass.png"></img></td></tr></table></div><p>If search does not locate the network you want to bypass, click <span class="bold bold"><strong>+New</strong></span> to add it.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-e1e0a43f-ce40-63e8-4609-32cd83387a68-en.png" style="max-width: 405px; " alt="FPauthIPaddressBypassAddNetwork1.png"></img></td></tr></table></div><p>Enter the IP address, IP address range, or CIDR netmask in the text field, and then click the adjacent <span class="bold bold"><strong>+</strong></span> button. Multiple network locations can be added. After adding the network locations, click <span class="bold bold"><strong>Next</strong></span>, enter a name, and then click <span class="bold bold"><strong>Save Network Location</strong></span>.</p><p>Select <span class="bold bold"><strong>User IP</strong></span> or <span class="bold bold"><strong>Egress Source IP</strong></span> for each network location, and then click <span class="bold bold"><strong>Save</strong></span>.</p></section></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063177294"><div class="titlepage"><div><div class="title"><h6 class="title">Troubleshooting</h6></div></div></div><p>Certificate Issues:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you are seeing a certificate error in browser, check the Netskope certificate on the browser, make sure the Netskope root certificate is installed on the  end-user devices.</p></li></ul></div><p>Connection issues: </p><p>If end-to-end traffic is not working:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Check if the GRE tunnel status to see if it is up on the exit router.</p></li><li class="listitem"><p>Check the tunnel interface counters to see if they are going up or not, which would indicate the transit of traffic.</p></li><li class="listitem"><p>If a tunnel is down, check to make sure the GRE/ICMP keepalives sent by the exit router is receiving the keepalive response back. </p></li><li class="listitem"><p>If a tunnel is down, end-to-end traffic should be working through the router's default-gateway.</p></li><li class="listitem"><p>If the tunnel is up, check the route-map configured to re-direct the traffic.</p></li><li class="listitem"><p>Make sure the firewall is allowing GRE traffic.</p></li><li class="listitem"><p>Make sure the router exit IP (public IP) is added to the GRE page from Netskope console (tenant UI).</p></li><li class="listitem"><p>Route map should ideally be configured to redirect port 443/80 over the GRE Tunnel.</p></li><li class="listitem"><p>Contact Netskope Support.</p></li></ul></div><p>Performance issues:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Check the MTR against the Netskope GRE IP address. It should show RTT between your environment to the Netskope Cloud. It will also show packet drops.</p></li><li class="listitem"><p>Capture packets at the endpoint egress interface using Wireshark. It will show complete TCP statistics.</p></li></ul></div><p>GRE device status:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Login into the source peer device to determine the GRE tunnel status. If the tunnel is down, there is high chance that the device is not able to communicate with Netskope GRE service, or this GRE node/site is not yet provisioned. Go to the Netskope GRE page to confirm.</p></li></ul></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd">GRE</a></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062800988">Prerequisites</a></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062852972">Workflow</a></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062883673">Configure GRE in the Netskope UI</a></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062984052">Configure GRE Tunnels on Source Device</a><ul class="nav"><li><a href="#idp208450">Deploying GRE Tunnels</a></li><li><a href="#idp208462">Monitoring GRE Tunnels</a></li></ul></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063063762">Traffic Steering and Identity Options</a><ul class="nav"><li><a href="#idp208478">Install the Netskope Client for Root CA Distribution, User Identity, and User Notifications</a></li><li><a href="#idp208485">Provision Certificates on Devices</a></li><li><a href="#idp208489">Use SAML Authentication</a><ul class="nav"></ul></li></ul></li><li><a href="#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063177294">Troubleshooting</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22GRE%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22GRE%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="ipsec.html#UUID-eea08867-524b-6394-e5ef-31ef061e6f36_N1571089119960">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573062800988">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">March 18, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
