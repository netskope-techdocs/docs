<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Explicit Proxy</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="gre-127075.html#UUID-d489719b-c894-9546-1182-cacb4f0ec28a_N1573063177294" title="Troubleshooting"></link><link rel="next" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809" title="PAC File Template"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="traffic-management.html">Traffic Management</a></li><li class="breadcrumb-link"><a href="traffic-steering.html">Traffic Steering</a></li><li class="breadcrumb-node">Explicit Proxy</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="gre-127075.html#UUID-d489719b-c894-9546-1182-cacb4f0ec28a_N1573063177294">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-d7c5f180-4bd5-b5ce-ced2-067638188c50" data-permalink="explicit-proxy-217835.html" data-topic-level="1" data-relative-prefix="" data-time-modified="November 16, 2021" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f"><div class="titlepage"><div><div class="title"><h4 class="title">Explicit Proxy</h4></div></div></div><p>Explicit Proxy provides a new method for steering traffic from any device to the Netskope Cloud using a Proxy Auto Configuration (PAC) file. A PAC file tells a browser to forward traffic to a proxy server instead of the destination server. When a user opens a browser, the browser sends a request for the default PAC file, and then uses the instructions to forward traffic to the Netskope URL in the PAC file.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>For Chromebooks we recommend using the Netskope Chrome extension. To learn more, see the <a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593020586027232732132380681" title="Traffic Steering from Chromebooks"><span class="xreftitle">Traffic Steering from Chromebooks</span></a> section </p></div><p>You can download a PAC file template your Netskope tenant to create your own custom PAC file. Your modified PAC file can be hosted on-premises so that devices can retrieve it automatically. User identity can be retrieved with the help of an IdP that uses SAML 2.0, and this can be configured in the Netskope UI under <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Forward Proxy &gt; SAML</strong></span>.</p><p>Explicit Proxy can be used these ways:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Modify the <a class="link" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809" title="PAC File Template">PAC file template</a> (or modify an existing PAC file), and then distribute your PAC file. Click <span class="bold bold"><strong>Download Sample PAC File</strong></span> on the Explicit Proxy page to get a PAC file template you can modify. </p></li><li class="listitem"><p>Configure SAML 2.0 authentication using <a class="xref" href="saml-forward-proxy.html" title="SAML Forward Proxy"><span class="xreftitle">SAML Forward Proxy</span></a>. The user's browser must be set up to use port <code class="literal">8081</code>. Authentication is used to get the identity of the user, which can be applied in Policies, for example. To enable authentication after configuring the forward proxy, refer to <a class="xref" href="forward-proxy-authentication.html" title="Forward Proxy Authentication"><span class="xreftitle">Forward Proxy Authentication</span></a>.</p></li><li class="listitem"><p>Endpoints can be configured to use the proxy directly. For example:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-939eb087-7727-d00b-3924-94eb33d7e788.png" style="max-width: 360px; " alt="ExplicitProxyNetwork.png" title="ExplicitProxyNetwork.png"></img></td></tr></table></div></li><li class="listitem"><p>HTTP and HTTPS traffic (typically on ports 80, and 443, but Netskope also supports custom ports) for the Explicit Proxy. Do not send any other traffic through these ports.</p></li><li class="listitem"><p>Consider these factors for Box endpoints when using explicit proxy:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Policies that are user specific for access to specific apps, instances, or SSL decryption, etc., will not be enforced.</p></li><li class="listitem"><p>Events (Application/Page) will not show user information, but will show the IP address of the user.</p></li></ul></div></li></ul></div><p>If the Netskope root CA has not been previously installed on the endpoint, download it from the Netskope UI at <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Manage &gt; Certificates &gt; Signing CA</strong></span> and install it on your endpoints (for macOS: install it in Certificates from the Keychain Access tool). There is a separate certificate available for remote users.</p><p>When finished with the above preparations, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Traffic Steering &gt; Explicit Proxy</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:495px;
                            "><tr><td style="padding:0;"><img src="image/uuid-889454b0-a9b3-47b2-2acd-7f218c8c86ee.png" style="max-width: 495px; " alt="NewEPpage.png" title="NewEPpage.png"></img></td></tr></table></div><p>There are three sections on this page:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Explicit Proxy Destination: Provides the explicit proxy destination and a link to download the Netskope Certificate for remote users (also available on the Certificates CA Signing .</p></li><li class="listitem"><p>Tenant Lookup Service: Prompts remote users to enter the Tenant Name shown here. Once configured, users will be prompted for an organization (tenant) name that is provided to them by their administrators. Once validated, users will be redirected to authenticate with their IdP before being able to access the web. Authentication is mandatory for remote users.</p><p>To view an example of the notification users see, click <span class="bold bold"><strong>Preview</strong></span>.</p></li><li class="listitem"><p>IP Address <span class="phrase">Allowlist</span> &amp; User Identity: Enables you to allow unauthenticated traffic.</p><p>To use this feature, click <span class="bold bold"><strong>Edit</strong></span> and enable the <span class="bold bold"><strong>Allow</strong></span> toggle.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ca7c88b2-a5fd-daa2-4cca-d41358c7dac9.png" style="max-width: 405px; " alt="Edit_Unauthenticated_Traffic.png" title="Edit_Unauthenticated_Traffic.png"></img></td></tr></table></div><p>This section also allows you to specify source egress IP addresses for your on-premises users.</p></li></ul></div><p>To <span class="phrase">allowlist</span> your on-premises source egress IP address(es) in the Netskope UI:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to the IP Address <span class="phrase">Allowlist</span> &amp; User Identity section, click <span class="bold bold"><strong>Add IP Address</strong></span>.</p></li><li class="listitem"><p>Enter a name and the source egress IP address for your office location to <span class="phrase">allowlist</span> so that Netskope will accept the traffic from devices behind the IP address or CIDR. Multiple IP addresses need to be separated by a comma, or you can add them separately using the <span class="bold bold"><strong>Add Another</strong></span> button. When finished, click <span class="bold bold"><strong>Add</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-65fbedec-d444-2dec-93ae-8a9d9d3ec3a9.png" style="max-width: 405px; " alt="ExplicitProxyAdd.png" title="ExplicitProxyAdd.png"></img></td></tr></table></div></li></ol></div><p>To edit or delete an IP address or range, click the <span class="inlinemediaobject"><img style="max-width: 23px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png" title="MenuIcon.png"></img></span> icon. Only one IP address or CIDR can be edited at a time.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:315px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ea76db40-e68a-34c7-f7eb-c446060c09dd.png" style="max-width: 315px; " alt="ProxyChainingEdit.png" title="ProxyChainingEdit.png"></img></td></tr></table></div><p>Now your web traffic will be sent to the Netskope Cloud and users will be asked to authenticate to the IdP once they attempt to navigate to any website. To see events in SkopeIT, go to <span class="bold bold"><strong>SkopeIT &gt; Page Events</strong></span> and click the <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-724e8bf0-ddb1-1eae-141d-155a10809ac9.png" alt="UEBAMagnifier.png" title="UEBAMagnifier.png"></img></span> icon to view page event details. Explicit proxy will be shown as the access method.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:225px;
                            "><tr><td style="padding:0;"><img src="image/uuid-9570536a-8c49-b7dc-2530-a22afde793f4.png" style="max-width: 225px; " alt="ExplicitProxyPageEvents.png" title="ExplicitProxyPageEvents.png"></img></td></tr></table></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809"><div class="titlepage"><div><div class="title"><h5 class="title">PAC File Template</h5></div></div></div><p>Modify this PAC file template for Explicit Proxy. Enter the domains not to proxy, the substrings (HTTP/HTTPS) to proxy, and your tenant name.</p><pre class="programlisting">function FindProxyForURL(url, host) { 
    /* Normalize the URL for pattern matching */
    url = url.toLowerCase();
    host = host.toLowerCase();
    /* Don't proxy local hostnames */
    if (isPlainHostName(host)) {
        return 'DIRECT';
    }
     /* Don't proxy IDP servers. */
    /*
    if ((dnsDomainIs(host, '.okta.com'))
    {
        return 'DIRECT'
    }
    */
    /* Don't proxy for domains. */
    /*
    if ((dnsDomainIs(host, '.domain-example1.com')) ||
    (dnsDomainIs(host, '.domain-example2.com')))
    {
        return 'DIRECT'
    }
    */
    if (url.substring(0, 5) === 'http:' || url.substring(0, 6) === 'https:') {
        return 'PROXY eproxy-<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com:8081';
    }
    return 'DIRECT';
}</pre></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593020586027232732132380681"><div class="titlepage"><div><div class="title"><h5 class="title">Traffic Steering from Chromebooks</h5></div></div></div><p>This section illustrates using explicit proxy to steer SWG / CASB traffic from managed Chromebooks using the Netskope Chrome extension. To learn more about steering private app traffic, see the  <a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021659744032732234576936" title="Steering Private App Traffic"><span class="xreftitle">Steering Private App Traffic</span></a> section.  </p><p><span class="bold bold"><strong>Prerequisites for Steering SWG / CASB Traffic in Chromebooks</strong></span> - Configure your tenant with SAML forward proxy authentication.</p><p>You can push the Netskope Chrome extension through Google Workspace Admin console and pre-provision necessary configuration. The procedure has the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033025716832732246190145" title="Installing the Netskope TLS CA Certificate"><span class="xreftitle">Installing the Netskope TLS CA Certificate</span></a></p></li><li class="listitem"><p><a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4580943239641632732514652361" title="Setting Proxy Mode to Allow User Configuration"><span class="xreftitle">Setting Proxy Mode to Allow User Configuration</span></a></p></li><li class="listitem"><p><a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021674296032732515963565" title="Configuring the Netskope Chrome Extension"><span class="xreftitle">Configuring the Netskope Chrome Extension</span></a></p></li><li class="listitem"><p><a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033053916832732517609583" title="Verifying Policy Propagation"><span class="xreftitle">Verifying Policy Propagation</span></a></p></li><li class="listitem"><p><a class="xref" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033373614432732519463502" title="Hardening managed Chromebook configuration"><span class="xreftitle">Hardening managed Chromebook configuration</span></a></p></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033025716832732246190145"><div class="titlepage"><div><div class="title"><h6 class="title">Installing the Netskope TLS CA Certificate</h6></div></div></div><p>Install the TLS CA certificates to allow TLS decryption of traffic from managed Chromebooks. Before you proceed, download the certificates from the Netskope tenant admin console.</p><section dir="ltr" class="simplesect" id="idm45376309317616"><div class="titlepage"><div><div><h6 class="title">Downloading Certificates from Netskope Tenant</h6></div></div></div><div class="procedure" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_procedure-idm4605033041041632732247573554"><ol class="procedure" type="1"><li class="step"><p>Login to Netskope tenant as administrator.</p></li><li class="step"><p>Go to <span class="bold bold"><strong>Settings</strong></span> &gt; <span class="bold bold"><strong>Manage</strong></span> &gt;  <span class="bold bold"><strong>Certificates</strong></span> &gt; <span class="bold bold"><strong>Signing CA</strong></span>.</p></li><li class="step"><p>Download the following certificates</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Root CA (Remote Users)</p></li><li class="listitem"><p>Root CA</p></li><li class="listitem"><p>Intermediate CA</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>If you have configured your own signing CA certificate, import it together with all necessary intermediate CAs in addition to Root CA (Remote users) mentioned above.</p></div></li></ol></div></section><section dir="ltr" class="simplesect" id="idm45376309310368"><div class="titlepage"><div><div><h6 class="title">Installing Certificates in Google Workspace Admin Console</h6></div></div></div><div class="procedure" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_procedure-idm4605032954235232732255070374"><ol class="procedure" type="1"><li class="step"><p>Login to Google Workspace Admin console.</p></li><li class="step"><p>Go to <span class="bold bold"><strong>Devices</strong></span> &gt; <span class="bold bold"><strong>Networks</strong></span> &gt; <span class="bold bold"><strong>Certificates</strong></span> and add the certificates download from your Netskope tenant.</p><div class="mediaobject"><img src="image/uuid-787fb544-185a-02ea-2192-525fe26ada7f.png" style="" alt="01_ga_addCert.png" title="01_ga_addCert.png"></img></div></li></ol></div></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4580943239641632732514652361"><div class="titlepage"><div><div class="title"><h6 class="title">Setting Proxy Mode to Allow User Configuration</h6></div></div></div><div class="procedure" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_procedure-idm4605032210144032732262066665"><ol class="procedure" type="1"><li class="step"><p>In the Google Workspace Admin console go to Devices &gt; Chrome &gt; Settings &gt; Users &amp; browsers.</p></li><li class="step"><p>Select organizational units that should use the extension and confirm that <span class="bold bold"><strong>Proxy mode</strong></span> is set to <span class="bold bold"><strong>Allow user to configure</strong></span> (this is the default):</p><div class="mediaobject"><img src="image/uuid-2b4c7424-0690-cdc7-37e6-43f3d5b638c8.png" style="" alt="02_ga_proxyMode.png" title="02_ga_proxyMode.png"></img></div></li></ol></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021674296032732515963565"><div class="titlepage"><div><div class="title"><h6 class="title">Configuring the Netskope Chrome Extension</h6></div></div></div><div class="procedure" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_procedure-idm4580935410884832732264898001"><ol class="procedure" type="1"><li class="step"><p>In Google Workspace Admin console go to <span class="bold bold"><strong>Devices</strong></span> &gt; <span class="bold bold"><strong>Chrome</strong></span> &gt;  <span class="bold bold"><strong>Apps &amp; extensions</strong></span> &gt; <span class="bold bold"><strong>Users &amp; browsers</strong></span>.</p></li><li class="step"><p>Select organizational units that should be provisioned with the extension.</p></li><li class="step"><p>On the bottom right of the screen click the plus icon to add an extension from Chrome Web Store.</p><div class="mediaobject"><img src="image/uuid-6619e8c3-b45f-ce4b-0aaa-5cc2c0ba1644.png" style="" alt="03_ga_addExtension.png" title="03_ga_addExtension.png"></img></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the pop-up window, search Netskope in the Chrome store to get the Netskope Chrome extension. </p><div class="mediaobject"><img src="image/uuid-58ffdf43-0737-dc1a-e68c-4218103d5e2f.png" style="" alt="03b_ga_chromExtnStore.png" title="03b_ga_chromExtnStore.png"></img></div></li><li class="listitem"><p>To install the <span class="emphasis"><em>Netskope EProxy enforcer</em></span> extension, click the chrome extension and then in the extension's page click the <span class="bold bold"><strong>Select</strong></span> button. </p></li></ol></div><div class="mediaobject"><img src="image/uuid-6619e8c3-b45f-ce4b-0aaa-5cc2c0ba1644.png" style="" alt="03_ga_addExtension.png" title="03_ga_addExtension.png"></img></div><p>Set the Installation Policy to <span class="bold bold"><strong>Force Install + pin to browser toolbar</strong></span> option.</p><div class="mediaobject"><img src="image/uuid-8d4f6a0c-67e6-7b77-02c9-540cb4b2aa13.png" style="" alt="04_ga_setForceInstall.png" title="04_ga_setForceInstall.png"></img></div></li><li class="step"><p>Click on the <span class="emphasis"><em>Netskope Eproxy enforcer</em></span> extension to specify JSON objects as <span class="bold bold"><strong>Policy for extensions</strong></span></p><div class="mediaobject"><img src="image/uuid-3894b15b-56c8-6491-2054-b606b5f6f7e9.png" style="" alt="05_ga_JSONobject.png" title="05_ga_JSONobject.png"></img></div><p>The JSON object has the following format:</p><pre class="programlisting ">{"tenant": {    
       "Value": "&lt;full-tenant-name&gt;"  
},  
"block_disable": {    
       "Value": &lt;option&gt;  
},  
"enforce_os": {    
       "Value": ["&lt;os-name&gt;"]  
},  
"bypass_list": {
       "Value": [
                  "&lt;comma-seperated_url_lists&gt;"
        ]
   }
}</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold bold"><strong>tenant</strong></span> - The JSON object must contain the tenant name in format of <code class="literal">"tenant": {"Value":"&lt;tenant-name&gt;"}</code>. For example: <code class="literal">"tenant": {"Value":"<span class="bold bold"><strong><span class="emphasis"><em>myorg.eu.goskope.com</em></span></strong></span>"}</code> where <span class="emphasis"><em>myorg.eu.goskope.com</em></span> is the full tenant name. The tenant name must include the goskope.com suffix. </p></li><li class="listitem"><p><span class="bold bold"><strong>block_disable</strong></span> - A boolean value to disallow users from disabling steering to Netskope. For example: <code class="literal">"block_disable": {"Value": true}</code></p></li><li class="listitem"><p><span class="bold bold"><strong>enforce_os</strong></span> - An array of strings that specify where the Netskope Chrome extension will operate. If this parameter is not specified, the extension will automatically be installed on all devices for a given user profile even if other Netskope steering methods are supposed to be used on those devices. </p><p>Example of a valid entry: <code class="literal">enforce_os":{"Value":["cros"]}</code></p><p>Valid operating system definitions are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>For ChromeOS, specify <code class="literal">cros</code></p></li><li class="listitem"><p>For Microsoft Windows, specify <code class="literal">win</code></p></li><li class="listitem"><p>For Apple macOS, specify <code class="literal">mac</code></p></li><li class="listitem"><p>For Google Android , specify <code class="literal">android</code>. </p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Google Chrome on Android does not support extensions, so this parameter is valid only for third-party Chromium based browsers</p></div></li><li class="listitem"><p>For non-ChromeOS linux, specify <code class="literal">linux</code></p></li><li class="listitem"><p>For OpenBSD, specify <code class="literal">openBSD</code></p></li></ul></div></li><li class="listitem"><p><span class="bold bold"><strong>bypass_list</strong></span> - An array of strings to identify the bypass settings for Netskope steering.This list may contain the following entries:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><span class="bold bold"><strong>Hostname</strong></span> : <code class="literal">[_&lt;scheme&gt;_://]_&lt;host-pattern&gt;_[:_&lt;port&gt;_]</code>. Match all hostnames that match  _&lt;host-pattern&gt;_.  A leading "." is interpreted as a "*." . Examples: <span class="emphasis"><em>"foobar.com", "*foobar.com", "*.foobar.com", "*foobar.com:99", "https://x.*.y.com:99"</em></span>.</p><div class="informaltable table-responsive"><table style="width:99%;" class="informaltable  rules-rows"><colgroup><col style="width:33%;" align="left"></col><col style="width:33%;" align="left"></col><col style="width:33%;" align="left"></col></colgroup><thead><tr><th align="left" class="th" data-priority="1"><p>Pattern</p></th><th align="left" class="th" data-priority="1"><p>Matches</p></th><th align="left" class="th" data-priority="1"><p>Does not Match</p></th></tr></thead><tbody><tr><td align="left" class="td"><p>.foobar.com</p></td><td align="left" class="td"><p>www.foobar.com</p></td><td align="left" class="td"><p>foobar.com</p></td></tr><tr><td align="left" class="td"><p>*.foobar.com</p></td><td align="left" class="td"><p>www.foobar.com</p></td><td align="left" class="td"><p>foobar.com</p></td></tr><tr><td align="left" class="td"><p>foobar.com</p></td><td align="left" class="td"><p>foobar.com</p></td><td align="left" class="td"><p>www.foobar.com</p></td></tr><tr><td align="left" class="td"><p>*foobar.com</p></td><td align="left" class="td"><p>foobar.com, www.foobar.com, foofoobar.com</p></td><td align="left" class="td"><p></p></td></tr></tbody></table></div></li><li class="listitem"><p><span class="bold bold"><strong>Simple Hostname</strong></span>: <code class="literal">&lt;local&gt;</code> . Matches simple hostnames. A simple hostname is one that contains no dots and is not an IP literal. For instance <code class="literal">example</code> and <code class="literal">localhost</code> are simple hostnames. However, <code class="literal">example.com</code>, <code class="literal">example.,</code> and <code class="literal">[::1]</code> are not. </p></li><li class="listitem"><p><span class="bold bold"><strong>IP Address</strong></span>: <code class="literal">[_&lt;scheme&gt;_://]_&lt;ip-literal&gt;_[:_&lt;port&gt;_]</code>. Match URLs that are IP address literals. Conceptually this is similar to the first case, but with special cases to handle IP literal canonicalization. For example, matching on <code class="literal">[0:0:0::1]</code>  is the same as matching on <code class="literal">[::1]</code>  because the IPv6 canonicalization is done internally. Examples: <code class="literal">127.0.1, [0:0::1], [::1], http://[::1]:99</code> .</p></li><li class="listitem"><p><span class="bold bold"><strong>IP Address with Range</strong></span>: <code class="literal">_&lt;ip-literal&gt;_/_&lt;prefix-length-in-bits&gt;_</code> . Match any URL containing an IP literal within the given range. The IP range is specified using CIDR notation. Examples: <code class="literal">"192.168.1.1/16", "fefe:13::abc/33"</code></p></li></ul></div><p>List of domains recommended to be bypassed by Google:</p><pre class="programlisting ">"bypass_list":{
   "Value":[
      "*.1e100.net",
      "accounts.google.com",
      "accounts.google.co.uk",
      "accounts.gstatic.com",
      "accounts.youtube.com",
      "alt*.gstatic.com",
      "chromeos-ca.gstatic.com",
      "chromeosquirksserver-pa.googleapis.com",
      "clients1.google.com",
      "clients2.google.com",
      "clients3.google.com",
      "clients4.google.com",
      "clients2.googleusercontent.com",
      "cloudsearch.googleapis.com",
      "commondatastorage.googleapis.com",
      "cros-omahaproxy.appspot.com",
      "dl.google.com",
      "dl-ssl.google.com",
      "firebaseperusertopics-pa.googleapis.com",
      "*.googleusercontent.com",
      "*.gvt1.com",
      "gweb-gettingstartedguide.appspot.com",
      "m.google.com",
      "omahaproxy.appspot.com",
      "pack.google.com",
      "policies.google.com",
      "printerconfigurations.googleusercontent.com",
      "safebrowsing-cache.google.com",
      "safebrowsing.google.com",
      "ssl.gstatic.com",
      "storage.googleapis.com",
      "tools.google.com",
      "www.googleapis.com",
      "www.gstatic.com"
   ]
}
</pre><div dir="ltr" class="note"><h3 class="title">Note</h3><p>If using non-Google IdP ensure that you add relevant domains for SAML auth to bypass to this list.</p></div></li></ul></div></li><li class="step"><p><span class="bold bold"><strong>pac_data</strong></span> - A static PAC file data to be used instead of the bypass_list. The provided PAC file should point the steered traffic to eproxy-&lt;tenant-name&gt;.goskope.com:8081.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>If both pac_data and bypass_list are provided, only the pac_data is used.</p></div><p>Example of a valid pac_data entry is:</p><pre class="programlisting ">"pac_data":{"Value":"function FindProxyForURL(url, host) {
  if (!shExpMatch(url, \"https://*\") &amp;&amp; !shExpMatch(url, \"http://*\")) return \"DIRECT\";
  var ExpList = [
    \"*.1e100.net\",
    \"accounts.google.com\",
    \"accounts.google.co.uk\",
    \"accounts.gstatic.com\",
    \"accounts.youtube.com\",
    \"alt*.gstatic.com\",
    \"chromeos-ca.gstatic.com\",
    \"chromeosquirksserver-pa.googleapis.com\",
    \"clients1.google.com\",
    \"clients2.google.com\",
    \"clients3.google.com\",
    \"clients4.google.com\",
    \"clients2.googleusercontent.com\",
    \"cloudsearch.googleapis.com\",
    \"commondatastorage.googleapis.com\",
    \"cros-omahaproxy.appspot.com\",
    \"dl.google.com\",
    \"dl-ssl.google.com\",

    \"firebaseperusertopics-pa.googleapis.com\",
    \"*.googleusercontent.com\",
    \"*.gvt1.com\",
    \"gweb-gettingstartedguide.appspot.com\",
    \"m.google.com\",
    \"omahaproxy.appspot.com\",
    \"pack.google.com\",
    \"policies.google.com\",
    \"printerconfigurations.googleusercontent.com\",
    \"safebrowsing-cache.google.com\",
    \"safebrowsing.google.com\",
    \"ssl.gstatic.com\",
    \"storage.googleapis.com\",
    \"tools.google.com\",
    \"www.googleapis.com\",
    \"www.gstatic.com\"];
  for (var i=0; i&lt;ExpList.length; i++) {
    if (shExpMatch(host, ExpList[i])) return  \"DIRECT\" ;
  }
  var proxy = \"PROXY eproxy-myorg.eu.goskope.com:8081\";
  return proxy;
}"}</pre></li><li class="step"><p>After providing the policy for the extension, click <span class="bold bold"><strong>Save</strong></span> on the top right corner to save the settings.</p></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033053916832732517609583"><div class="titlepage"><div><div class="title"><h6 class="title">Verifying Policy Propagation</h6></div></div></div><p>To verify if policy is correctly propagated, on a managed Chromebook navigate to <span class="emphasis"><em>chrome://policy.</em></span> At the bottom of the page you will have a formatted table for Netskope EProxy enforcer policies.</p><div class="mediaobject"><img src="image/uuid-012c9d40-a1a3-7655-5992-cd266845c550.png" style="" alt="07_verifyPropagation.png" title="07_verifyPropagation.png"></img></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033373614432732519463502"><div class="titlepage"><div><div class="title"><h6 class="title">Hardening managed Chromebook configuration</h6></div></div></div><p>To ensure that users are not able to bypass the steering to Netskope, we recommend that you configure the following settings in Google Workspace Admin console:</p><div class="procedure" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_procedure-idm4605033051561632732367769422"><ol class="procedure" type="1"><li class="step"><p>Disallow incognito mode in <span class="bold bold"><strong>Devices</strong></span> &gt; <span class="bold bold"><strong>Chrome</strong></span> &gt; <span class="bold bold"><strong>Settings</strong></span> &gt; <span class="bold bold"><strong>Users &amp; browsers</strong></span></p><div class="mediaobject"><img src="image/uuid-277bcff9-02be-c075-eec4-4ab8174a0fc7.png" style="" alt="06_ga_disallowIncognito.png" title="06_ga_disallowIncognito.png"></img></div></li><li class="step"><p>Block unauthorized extensions with Set Proxy or VPN Provider permissions in <span class="bold bold"><strong>Devices</strong></span>  &gt; <span class="bold bold"><strong>Chrome</strong></span> &gt; <span class="bold bold"><strong>Apps &amp; extensions</strong></span> &gt; <span class="bold bold"><strong>Users &amp; browsers</strong></span> &gt; <span class="bold bold"><strong>Additional Settings</strong></span> and disable any user-installed extensions (such as Ad Blockers and NoScript) to mess with goskope.com domains by adding <span class="emphasis"><em>*://*.goskope.com</em></span> to Runtime blocked host list.</p><div class="mediaobject"><img src="image/uuid-6155abbc-8f08-4b17-2008-112bea0f5ed8.png" style="" alt="06b_ga_appSettings.png" title="06b_ga_appSettings.png"></img></div></li><li class="step"><p>Block all apps not in the allow list for Play Store and Chrome Web Store in  <span class="bold bold"><strong>Devices</strong></span> &gt; <span class="bold bold"><strong>Chrome</strong></span> &gt; <span class="bold bold"><strong>Apps &amp; extensions</strong></span> &gt;  <span class="bold bold"><strong>Users &amp; Browsers</strong></span> &gt; <span class="bold bold"><strong>Additional Settings</strong></span>.</p><div class="mediaobject"><img src="image/uuid-55ba8a77-5105-5293-c496-ea9e6c3a707a.png" style="" alt="08_ga_allowBlock.png" title="08_ga_allowBlock.png"></img></div></li><li class="step"><p>Prevent users from managing certificates, so they would not be able to tamper with Netskope CA pushed by Google Workspace Admin in <span class="bold bold"><strong>Devices</strong></span> &gt; <span class="bold bold"><strong>Chrome</strong></span> &gt; <span class="bold bold"><strong>Settings</strong></span> &gt; <span class="bold bold"><strong>Users &amp; Browsers</strong></span></p><div class="mediaobject"><img src="image/uuid-340c1b79-ab8b-4d84-b97c-486d6556723c.png" style="" alt="09_ga_disallowCertMgmt.png" title="09_ga_disallowCertMgmt.png"></img></div></li></ol></div></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021659744032732234576936"><div class="titlepage"><div><div class="title"><h6 class="title">Steering Private App Traffic</h6></div></div></div><p>The Chrome extension can work alongside the Netskope Cloud Director for Android that is used for NPA (Netskope Private Access) steering on Chromebooks. Ensure that you add private domains to the <span class="emphasis"><em>bypass_list</em></span> or the PAC file so they are not steered to the explicit proxy.</p></section></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f">Explicit Proxy</a></li><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809">PAC File Template</a></li><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593020586027232732132380681">Traffic Steering from Chromebooks</a><ul class="nav"><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4605033025716832732246190145">Installing the Netskope TLS CA Certificate</a></li><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4580943239641632732514652361">Setting Proxy Mode to Allow User Configuration</a></li><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021674296032732515963565">Configuring the Netskope Chrome Extension</a><ul class="nav"></ul></li><li><a href="#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm4593021659744032732234576936">Steering Private App Traffic</a></li></ul></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Explicit%20Proxy%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Explicit%20Proxy%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="gre-127075.html#UUID-d489719b-c894-9546-1182-cacb4f0ec28a_N1573063177294">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="explicit-proxy-217835.html#UUID-aef1dfc7-d479-b6f8-7298-9bba7ae70e1f_section-idm231895294666809">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">November 16, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
