<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Deploy a Publisher</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="publisher-management.html" title="Publisher Management"></link><link rel="next" href="deploy-a-publisher.html#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553" title="Requirements and Recommendations"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="data-security.html">Data Security</a></li><li class="breadcrumb-link"><a href="netskope-private-access.html"><span class="phrase">Netskope Private Access</span></a></li><li class="breadcrumb-link"><a href="publisher-management.html">Publisher Management</a></li><li class="breadcrumb-node">Deploy a Publisher</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="publisher-management.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="deploy-a-publisher.html#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-31d181db-79ee-829b-adcd-e5e7f29311a3" data-permalink="deploy-a-publisher.html" data-topic-level="1" data-relative-prefix="" data-time-modified="January 21, 2022" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041"><div class="titlepage"><div><div class="title"><h5 class="title">Deploy a Publisher</h5></div></div></div><p>The Netskope Private Access Publisher can be deployed on AWS, Azure, GCP, HyperV, VMWare ESX, and any CentOS-based virtual machine (VM). The following sections provide instructions for each of these deployments.</p><p>The Publisher does not need to be deployed on the same network where the private app will be accessed, but it needs to have L3 reachability to the private applications. </p><section dir="ltr" class="section accordion accordion" data-origin-id="" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553_body" data-parent="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553"><div><div class="title"><h6 class="title">Requirements and Recommendations</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553_body"><p>Before deploying a Publisher, factor these requirements and recommendations:</p><p><span class="strong strong"><strong>General Host Requirements</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>2 CPUs</p></li><li class="listitem"><p>4GB RAM</p></li><li class="listitem"><p>8GB HDD space</p></li></ul></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044680401632680184230398"><div class="titlepage"><div><div class="title"><h6 class="title">Network Time Protocol</h6></div></div></div><p>For Network Time Protocol (NTP), either:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ensure your local NTP servers are synchronized properly (this is generally required in case of DHCP networking configuration).</p></li><li class="listitem"><p>Ensure that access to Internet NTP servers works properly.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044699281632680185532063"><div class="titlepage"><div><div class="title"><h6 class="title">Publisher Capacity</h6></div></div></div><p>When considering publisher capacity and scaling the following are key points to consider:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Each publisher can handle around 160 Mbps of throughput.</p></li><li class="listitem"><p>A Publisher is agnostic to the number of users that traverse it.</p></li><li class="listitem"><p>A Publisher is limited to using a single IP address for both inbound and outbound connections.</p></li><li class="listitem"><p>A single publisher can support up to 32,000 concurrent TCP or UDP connections per IP destination.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4613160151033632680185625518"><div class="titlepage"><div><div class="title"><h6 class="title">Publisher Sizing for Apps or Wildcard Networks/Domains</h6></div></div></div><p>While publishers are agnostic to the number of users, the number of users that are supported by a single publisher is dependent on the type of application. Use the information below to help determine maximum number of users per publisher based on the applications used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For web applications, browsers can open up to six concurrent connections per domain. For the purpose of sizing, the recommendation is to divide 32,000 by 6 to derive how many maximum concurrent users may be using a single Publisher for a web server.</p></li><li class="listitem"><p>For FTP workloads, it’s 2 TCP connections per user per FTP session.</p></li><li class="listitem"><p>For SSH/SQL connections, it’s one TCP connection per user.</p></li></ul></div><p>To scale access to broad networks and/or large applications, the following approach can be used. A round robin mechanism to load balance users across publishers is used.</p><p>In order for NPA to distribute the load evenly across the newly introduced Publishers in the cluster, you can reboot the original set of Publishers during a maintenance window. This results in users getting evenly distributed across Publishers.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-e1a25a87-5c00-7b78-2cb1-3b930f4c1b52.png" style="max-width: 540px; " alt="ScalingPublishers.png" title="ScalingPublishers.png"></img></td></tr></table></div><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Netskope does not recommend spreading publishers serving the same application across different physical locations or geographic regions as this could result in higher latency for some users.</p></div><p><span class="strong strong"><strong>Networking Services</strong></span></p><p>Network:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should have network connectivity to your internal apps.</p></li><li class="listitem"><p>Publishers should have network connectivity (outbound) to the Internet to reach various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>DNS: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should be able to resolve internal service names, for example: <code class="literal">myapp.example.com</code>.</p></li><li class="listitem"><p>Publishers should be able to resolve external service names (on the Internet), including the various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>SSH:</p><p>You should be able to SSH into the Publisher from an internal desktop computer for basic administration tasks, such as passing the registration token to the Publisher during initial setup and troubleshooting any issues which might arise. A publisher cannot be used to connect to itself.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you deploy the Publisher VM into a network with DHCP services, it should pick up a valid networking configuration automatically, including an IP address, default gateway, and DNS.</p></li><li class="listitem"><p>If you deploy the publisher VM into a network without DHCP services, you must configure a static IP address, default gateway, and DNS.</p></li><li class="listitem"><p>Netskope recommends that your network includes DHCP.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Publishers may be subject to SSL interception. Make sure that access to <span class="emphasis"><em>*.npa.goskope.com</em></span> is disabled for SSL interception.</p></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4613160114688032680186398073"><div class="titlepage"><div><div class="title"><h6 class="title">Network Settings</h6></div></div></div><p>In the NPA Publisher Wizard (available via your virtualization console or after SSHing to a running Publisher), you can now select Network Settings for configuration details.</p><p>There are two configuration options available:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>DHCP: This allows you to specify a network adapter for DHCP configuration. eth0 is used in the example, but other adapters may be present depending on your NPA Publisher hardware configuration. For example, ens32 or similar will be present on NPA Publishers deployed to VMWare.</p></li><li class="listitem"><p>Static IP: This option allows you to specify static IP address configurations in environments where DHCP configuration is not possible. The following values must be provided as part of this configuration:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Network Adapter</p></li><li class="listitem"><p>IP Address and Mask: For example, 192.168.1.189/24</p></li><li class="listitem"><p>Gateway: For example, 192.168.1.1</p></li><li class="listitem"><p>DNS Servers: We recommend using two DNS server IP addresses, though only 1 is required.</p></li><li class="listitem"><p>Default Search Domain: This configuration is typically set to match the domain name of your company.</p></li></ul></div></li></ul></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion reused-publication accordion; reused-publication" data-origin-id="UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132" data-time-modified="January 21, 2022" data-publication-date="" id="UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132_body" data-parent="#UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132"><div><div class="title"><h6 class="title">Secure Publisher Configuration and Hardening</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132_body"><p>Netskope provides prebuilt Publishers for VMWare (OVA format), Hyper-V (VHDX), and AWS (AMI).  Additionally, you can also deploy a publisher on top of CentOS machine for other environments, such as GCP.  The deployment methods and use of Docker images may raise some concerns about hardening and security.  This document provides info that can be used by customers under NDA to better understand how a Publisher is deployed and maintained.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46393396757424"><div class="titlepage"><div><div class="title"><h6 class="title">OS Requirements</h6></div></div></div><p>CentOS 7 is supported.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46393396713792"><div class="titlepage"><div><div class="title"><h6 class="title">OS Hardening</h6></div></div></div><p>Netskope takes a number of hardening steps for the images we provide including:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Disabling root login to base OS and container OS</p></li><li class="listitem"><p>Removing root password</p></li><li class="listitem"><p>Removing unneeded Linux firmware and packages</p></li><li class="listitem"><p>Running the latest security updates prior to capturing the image</p></li><li class="listitem"><p>Disabling support for CTL-ALT-DEL to prevent accidental or malicious system restarts.</p></li></ul></div><p>You can perform additional hardening steps,  such as:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Hardening SSH to use keys rather than passwords. AWS AMI uses keys by default. Publishers deployed on other platforms must be manually configured to use keys.</p></li><li class="listitem"><p>Using the native CentOS firewall or network firewalls to limit access to and from the Publisher.</p></li></ul></div><p>Netskope Private Access leverages RSA 2048 for all encrypted communications including Client, Publisher, and inner tunnel.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46393396712672"><div class="titlepage"><div><div class="title"><h6 class="title">Firewall Requirements</h6></div></div></div><p>The Publisher only requires communication over the following ports and protocols:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Inbound</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>SSH Access: Port 22 for management.</p></li></ul></div></li><li class="listitem"><p>Outbound</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>DNS: Port 53.</p></li><li class="listitem"><p>HTTPS: Port 443.</p></li><li class="listitem"><p>Other Ports: The Publisher requires connectivity to/from the TCP and UDP ports necessary for application access.</p></li></ul></div></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46393396707712"><div class="titlepage"><div><div class="title"><h6 class="title">DNS and IP Information</h6></div></div></div><p>Publisher uses DNS for Enrollment into the NPA service and for connecting to the NewEdge cloud. Please refer to the following DNS information for your NPA tenant.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">http://gateway.npa.goskope.com</code></p></li><li class="listitem"><p><code class="literal">http://stitcher.npa.goskope.com</code></p></li><li class="listitem"><p><code class="literal">http://ns-<span class="emphasis"><em>&lt;TENANTID&gt;</em></span>.<span class="emphasis"><em>&lt;POPNAME&gt;</em></span>.npa.goskope.com</code></p></li><li class="listitem"><p><code class="literal">TENANTID</code> would be the typical ID, such as 1234, etc.</p></li><li class="listitem"><p><code class="literal">POPNAME</code> represents the Home PoP Name.</p></li></ul></div><p>For example: <code class="literal">ns-1234.us-sjc1.npa.goskope.com</code>.</p><p>For Management Plane IPs, go to <a class="link" href="https://support.netskope.com/hc/en-us/articles/360036125714-NewEdge-Consolidated-List-of-IP-Ranges-for-Allowlisting" target="_blank" rel="noopener">List of IP Ranges for Allowlisting</a> and refer to the <span class="emphasis"><em>Netskope Private Access List for Allowlisting</em></span> table.</p><p>For Dataplane IPs, go to<a class="link" href="https://support.netskope.com/hc/en-us/articles/360035977513-NewEdge-Point-of-Presence-Data-Plane-and-Management-Plane-Global-Edge-Expansion-Status-and-IP-Ranges" target="_blank" rel="noopener">Data Plane IP Ranges</a>.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46393396703744"><div class="titlepage"><div><div class="title"><h6 class="title">Updates</h6></div></div></div><p>Netskope updates the host OS and the Publisher package during the software update process:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Base OS (CentOS) security updates.</p></li><li class="listitem"><p>Publisher (security, functionality, and enhancements).</p></li></ul></div><p>Netskope recommends that Publishers should always be updated to the most recent software version.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-6014c985-23bc-2a8b-f456-30684d235d0c" data-time-modified="March 23, 2021" data-publication-date="" id="UUID-cca38e8b-ef5f-5f8b-a11d-1d1a0e7b2d9a"><div class="titlepage"><div><div class="title"><h6 class="title">SELinux &amp; FirewallD</h6></div></div></div><p>The NPA Publisher is configured with SELinux <span class="emphasis"><em>enforcing</em></span> mode, and firewalld <span class="emphasis"><em>enabled</em></span> and <span class="emphasis"><em>running</em></span>. During Publisher installation, the following firewalld configurations are made in order to enable the NPA Publisher to process data packets appropriately.</p><pre class="programlisting"># Configure firewalld with an NPA specific zone that opens ports 784 and 785
firewall-cmd --reload
firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" destination address="191.1.1.1/32" port protocol="tcp" port="784" accept'
firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" destination address="191.1.1.1/32" port protocol="udp" port="785" accept'
firewall-cmd --reload
# Restart firewalld &amp; the NPA publisher after this configuration
sudo systemctl restart firewalld
sudo pkill npa_publisher
</pre><div dir="ltr" class="note"><h3 class="title">Note</h3><p>As indicated above, this configuration is applied automatically in all current NPA Publisher releases and is included here for reference/legacy Publishers.</p></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-6a0a752b-6d35-92dc-c4a6-d4e7161db29c" data-time-modified="October 29, 2021" data-publication-date="" id="UUID-85164666-c436-ac4a-cc1a-988b2bf22678"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-85164666-c436-ac4a-cc1a-988b2bf22678_body" data-parent="#UUID-85164666-c436-ac4a-cc1a-988b2bf22678"><div><div class="title"><h6 class="title">Create a New Publisher</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-85164666-c436-ac4a-cc1a-988b2bf22678_body"><p>Create a publisher to deploy on your network and use with a private app. The token generated in this procedure is used to deploy the publisher, so be sure to make a copy.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Publishers</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>New Publisher</strong></span>.</p></li><li class="step"><p>Enter a publisher name (like <code class="literal">AWS US-WestWing publisher</code>).</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-41416e54-d77e-2f8e-a303-3d243e201d19.png" style="max-width: 360px; " alt="NewPublisher1.png" title="NewPublisher1.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Save and Continue</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>Generate Token</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-4c2ba60d-9c22-9704-44a9-dbc69a58b0df.png" style="max-width: 360px; " alt="NewPublisher2.png" title="NewPublisher2.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Copy</strong></span> to get the registration token.</p></li><li class="step"><p>Click <span class="bold bold"><strong>Done</strong></span>.</p></li></ol></div><p>After deploying the publisher, return to the Publisher page to verify the status is <span class="emphasis"><em>Connected</em></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0d256feb-e71d-ba2b-c737-9b7576d2ffa6.png" style="max-width: 360px; " alt="NewPublisher3.png" title="NewPublisher3.png"></img></td></tr></table></div><p>The Publishers page shows each Publisher's name, status, version, CN, and number of connected apps. To customize the columns shown on the page, click the gear icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-af67306d-91fb-ae43-f731-82ddc4bb0594.png" alt="GearIconBlue.png" title="GearIconBlue.png"></img></span> in the table header and check the columns you want to see. To edit the name or delete a Publisher, click the menu icon <span class="inlinemediaobject"><img style="max-width: 14px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png" title="MenuIcon.png"></img></span> in the row a Publisher is listed.</p></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-c9cb22f6-462a-5da1-0b8b-0e9175041f58" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-a91211c6-d39a-e29f-90fa-37d17babe774_body" data-parent="#UUID-a91211c6-d39a-e29f-90fa-37d17babe774"><div><div class="title"><h6 class="title">Configure a Publisher in AWS</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_body"><p>Perform these steps in the AWS console.</p><h7 id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_bridgehead-5d1a7c1e758b2-idm45839551205056" class="bridgehead">Launch an EC2 Instance</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Sign in to your Amazon Web Services (AWS) console.</p></li><li class="step"><p>Click <span class="bold bold"><strong>Services &gt; Find services</strong></span>. Search for and then select <span class="bold bold"><strong>EC2</strong></span>.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Instances</strong></span> in the left sidebar menu.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Launch Instance</strong></span>.</p></li></ol></div><h7 id="idm46393396649392" class="bridgehead">Choose an Amazon Machine Image (AMI)</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Click <span class="strong strong"><strong>AWS Marketplace</strong></span> in the left sidebar menu.</p></li><li class="step"><p>Enter <code class="literal">Netskope</code> in the search bar.</p></li><li class="step"><p><code class="literal">Netskope Private Access Publisher</code> should appear in the search results. Click <span class="bold bold"><strong>Select</strong></span>.</p></li></ol></div><h7 id="idm46393396645968" class="bridgehead">Choose an Instance Type</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Select <span class="strong strong"><strong>t3.medium</strong></span> as the instance type.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Next: Configure Instance Details</strong></span>.</p></li></ol></div><h7 id="idm46393396643344" class="bridgehead">Configure Instance Details</h7><p>The token you copied from the Netskope UI is needed to complete these steps.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Enter <code class="literal">1</code> in the <span class="strong strong"><strong>Number of instances</strong></span> field.</p></li><li class="step"><p>Select the VPC where the application you want to publish via Netskope is deployed in the Network field.</p></li><li class="step"><p>Keep the default values for the remaining fields.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Advanced Details</strong></span> to expand this section.</p></li><li class="step"><p>In the User data section, select the <span class="strong strong"><strong>As text</strong></span> option.</p></li><li class="step"><p>Enter the Netskope Publisher registration token into the User Data text field.</p></li></ol></div><h7 id="idm46393396636800" class="bridgehead">Add a Name Tag</h7><p>Adding a name tag is optional, but doing so will make it easier to identify your Netskope Publisher EC2 instance.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Click the <span class="strong strong"><strong>Add Tags</strong></span> tab, near the top of the page.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Add Tag</strong></span>.</p></li><li class="step"><p>Enter <code class="literal">Name</code> in the Key field.</p></li><li class="step"><p>Enter <code class="literal">AWS US-WestWing publisher</code> in the Value field.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Review and Launch</strong></span>.</p></li></ol></div><h7 id="idm46393396630768" class="bridgehead">Review Instance Launch</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Review the information in the AMI Details Instance Type sections.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Launch</strong></span>.</p></li><li class="step"><p>Select or create a key pair.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Launch Instances</strong></span>.</p></li><li class="step"><p>Review the information on the Launch Status page.</p></li><li class="step"><p>Click <span class="strong strong"><strong>View Instances</strong></span>.</p></li></ol></div><h7 id="idm46393396625680" class="bridgehead">View Instances</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>You should now see a new EC2 instance with the name <code class="literal">AWS US-WestWing publisher</code> (if you completed the <span class="emphasis"><em>Add a Name Tag</em></span> steps).</p></li><li class="step"><p>AWS typically takes several minutes to launch EC2 instance and run status checks. Wait until your <span class="strong strong"><strong>Instance State</strong></span> is Running and <span class="strong strong"><strong>Status Checks</strong></span> have passed.</p></li></ol></div><h7 id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h7><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="step"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-47a6367f-2141-c07d-18bc-bba81d42e6eb" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-ae117d1f-7940-969a-25e2-bd3d92685c97"><div class="titlepage"><div><div class="title"><h6 class="title">Factor Firewall Rules</h6></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>If you have a firewall (as an example AWS "Security groups") between the publisher and the application, it needs to be configured to allow the publisher to access the application.</p></li><li class="step"><p>For AWS: Modify the applications security group to allow inbound connections from the publisher on applications ports.</p><p>Notes on Security groups:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A publisher doesn't need any inbound connections. A a result, you can configure security groups to deny all inbound traffic.</p></li><li class="listitem"><p>A publisher needs access to DNS and to private access cloud (on port 443). </p></li></ul></div></li></ol></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-585f46ff-cd86-9b9c-699e-d2fe3aa5e2aa" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_body" data-parent="#UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b"><div><div class="title"><h6 class="title">Configure a Publisher in Azure</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_body"><p>Perform these steps in the Azure console.</p><h7 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a85cfd6488-idm45839550874880" class="bridgehead">Create a Virtual Machine (VM)</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Login to Microsoft Azure portal ( <a class="link" href="https://portal.azure.com/" target="_blank" rel="noopener">https://portal.azure.com/</a> )</p></li><li class="step"><p>Click <span class="bold bold"><strong>Virtual machines</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>+ Add</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>See all images</strong></span> and then search for <code class="literal">CentOS-based Rogue</code>.</p></li><li class="step"><p>Choose <span class="bold bold"><strong>CentOS-based 7.7 by Rogue Wave Software</strong></span> (publisher).</p></li><li class="step"><p>Select <span class="bold bold"><strong>Standard D2s v3</strong></span> (2 vcpus, 8 GB memory) as the size.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>B1ms is good for most small deployments.</p></div></li><li class="step"><p>Click <span class="bold bold"><strong>Create</strong></span>.</p></li><li class="step"><p>Enter a machine name (Example: <code class="literal">NetskopePublisher</code> for Name).</p></li><li class="step"><p>Enter <code class="literal">centos</code> for Username.</p></li><li class="step"><p>Copy and paste your public SSH key under SSH public key. If you do not have a public SSH key, click <span class="bold bold"><strong>Generate new key pair</strong></span>.</p></li><li class="step"><p>Choose an existing or create a new Resource group under Resource Group. For testing, we recommend you create a new Resource group. The resource group is like a folder where it puts all VM associated resources.</p></li><li class="step"><p>Click <span class="bold bold"><strong>OK</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>Select</strong></span>.</p></li><li class="step"><p>Choose <span class="bold bold"><strong>SSH</strong></span> for Select public inbound ports.</p></li><li class="step"><p>Click <span class="bold bold"><strong>OK</strong></span>.</p></li><li class="step"><p>Click <span class="bold bold"><strong>Create</strong></span>.</p></li><li class="step"><p>Wait until Deployment will be finished.</p></li></ol></div><h7 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a87557cd6e-idm45764266803360" class="bridgehead">Open an SSH Session</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Click <span class="bold bold"><strong>Virtual machines</strong></span>.</p></li><li class="step"><p>Select the newly created VM.</p></li><li class="step"><p>Find a public IP address.</p></li><li class="step"><p>On your computer terminal execute: <code class="literal">ssh -i  <span class="emphasis"><em>&lt;your_private_ssh.key&gt;</em></span> centos@<span class="emphasis"><em>&lt;ipaddress&gt;</em></span></code>.</p></li></ol></div><h7 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a876c3be2b-idm45839550875072" class="bridgehead"><span class="strong strong"><strong>Install Netskope Publisher</strong></span></h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Run this command in your SSH session:</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="step"><p>This will take about 10 minutes. At the end of this process, you have a fully functional Netskope Publisher and can register it.</p></li></ol></div><h7 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h7><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="step"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-4ed72113-3b51-cc1a-903e-a8c56d35c574" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-511a8428-4a0a-c45b-506a-5e1e569a6404"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-511a8428-4a0a-c45b-506a-5e1e569a6404_body" data-parent="#UUID-511a8428-4a0a-c45b-506a-5e1e569a6404"><div><div class="title"><h6 class="title">Configure a Publisher in GCP</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-511a8428-4a0a-c45b-506a-5e1e569a6404_body"><p>The Netskope Publisher allows for zero trust network access to applications and hosts in your public cloud or private data center.  This includes the ability to leverage a Publisher in Google Cloud Platform.  </p><p>This topic explains how to upload an OVA into Google Cloud Platform Storage and import it into a compute instance. Knowledge of the Netskope UI and Google Cloud Platform are required, along with:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A Netskope Tenant</p></li><li class="listitem"><p>A copy of your tenant REST API token</p></li><li class="listitem"><p>Netskope Publisher OVA file from your tenant</p></li><li class="listitem"><p>A Google Cloud Platform account with a working VPC setup and API permissions.</p></li></ul></div><p>To configure a Publisher in GCP:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Log in to Google Cloud Platform at <a class="link" href="https://console.cloud.google.com/" target="_blank" rel="noopener">https://console.cloud.google.com/</a>.</p></li><li class="step"><p>Click the menu icon in the top left and select <span class="bold bold"><strong>Compute Engine</strong></span> and then <span class="strong strong"><strong>VM instances</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-c0aa1192-fe2b-20a5-94ac-193440926c2e.png" style="max-width: 360px; " alt="image1.png" title="image1.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="strong strong"><strong>Create Instance</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:270px;
                            "><tr><td style="padding:0;"><img src="image/uuid-f27ca1ed-0c56-47d6-cad2-95209fe62714.png" style="max-width: 270px; " alt="image2.png" title="image2.png"></img></td></tr></table></div></li><li class="step"><p>Enter a name for the instance, like <code class="literal">netskope-publisher</code>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a659c79f-c419-cb6f-7640-3d5fe6764c94.png" style="max-width: 360px; " alt="image3.png" title="image3.png"></img></td></tr></table></div></li><li class="step"><p>Select a Region and Zone.  For testing purposes this can be anything.  In a production environment, you want to enter the region and zone where the applications reside. </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-27217ccd-15cf-7e86-5525-ed762072902b.png" style="max-width: 360px; " alt="image4.png" title="image4.png"></img></td></tr></table></div></li><li class="step"><p>Configure the instance memory and CPU settings (2 core, 4 GB memory is the recommended setting, but for testing purposes a smaller machine will work). </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cf67fd96-d2cf-6b4a-f06c-635c0ec4bd88.png" style="max-width: 360px; " alt="image5.png" title="image5.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="strong strong"><strong>Change</strong></span> under Boot disk.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-eaec3f6b-8be0-b70a-8833-4d4f520155b0.png" style="max-width: 360px; " alt="image6.png" title="image6.png"></img></td></tr></table></div></li><li class="step"><p>Select <span class="strong strong"><strong>CentOS</strong></span> as the Operating System and <span class="strong strong"><strong>CentOS 7</strong></span> as the Version.  Leave the Boot disk type and Size as the defaults.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6b7d55f5-68df-442c-d850-099fcde89ce9.png" style="max-width: 360px; " alt="image7.png" title="image7.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="strong strong"><strong>Select</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:180px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ddb84d10-88ec-4625-4284-db9f5edbb5c6.png" style="max-width: 180px; " alt="image8.png" title="image8.png"></img></td></tr></table></div><p><span class="strong strong"><strong>Note:</strong></span> Steps 10-13 are optional if no other route to the internet is available.</p></li><li class="step"><p>Click <span class="strong strong"><strong>Management, security, disks, networking, sole tenancy</strong></span></p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a7004b01-ff21-4a6f-5606-151b0719bb92.png" style="max-width: 360px; " alt="image9.png" title="image9.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="strong strong"><strong>Networking.</strong></span></p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-1add1116-5579-c39d-53b6-7ac700700f84.png" style="max-width: 360px; " alt="image10.png" title="image10.png"></img></td></tr></table></div></li><li class="step"><p>Click the pencil icon to edit the network interface.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a8770941-36f1-ead3-68fd-73f6aad378f6.png" style="max-width: 360px; " alt="image11.png" title="image11.png"></img></td></tr></table></div></li><li class="step"><p>Select your Network, Subnetwork, and specify an <span class="strong strong"><strong>Ephemeral</strong></span> external IP.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cc41cfba-9751-2667-d7b1-aa2856751d01.png" style="max-width: 360px; " alt="image12.png" title="image12.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="strong strong"><strong>Create</strong></span> to start the instance creation.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-922625e1-5469-57ec-5ff8-ce9e7fff83ca.png" style="max-width: 450px; " alt="image13.png" title="image13.png"></img></td></tr></table></div></li><li class="step"><p>Once the instance is available, connect to it by clicking <span class="strong strong"><strong>SSH</strong></span> under the Compute Engine page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-5a8138de-1773-add8-157a-ca3644705815.png" style="max-width: 540px; " alt="image14.png" title="image14.png"></img></td></tr></table></div></li><li class="step"><p>Run the following command in the SSH session to download and install the necessary components for the Publisher.  This may take about 10 minutes.
</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="step"><p>At the end of this process, you have a fully functional Netskope publisher and can register it with Netskope.</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-2762e715-3ccf-ea99-1d42-87695e31fa95.png" style="max-width: 540px; " alt="image16.png" title="image16.png"></img></td></tr></table></div></li><li class="step"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-88637653-e667-273c-ecec-227caddbde41" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-20b191de-6f07-cb24-1a85-e952b64b7393"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-20b191de-6f07-cb24-1a85-e952b64b7393_body" data-parent="#UUID-20b191de-6f07-cb24-1a85-e952b64b7393"><div><div class="title"><h6 class="title">Configure a Publisher in CentosOS</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-20b191de-6f07-cb24-1a85-e952b64b7393_body"><p>These instructions assume that the CentOS user is configured and available on a default CentOS installation. Use an account other than root, and <span class="emphasis"><em>not</em></span> named <code class="literal">centos</code>. Otherwise, this configuration will not work</p><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Start with a CentOS 7-based Linux VM.</p></li><li class="step"><p>SSH into the CentOS-based system. </p></li><li class="step"><p>Run the command:</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="step"><p>Wait about 10 minutes.</p></li><li class="step"><p>At the end of this process, you have a fully functional Netskope publisher and can register it with Netskope.</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="step"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-5f5225d9-28f3-370e-242c-aa1fb3940882" data-time-modified="September 28, 2021" data-publication-date="" id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-268fa752-8b49-e971-f4c4-833692ee6fec_body" data-parent="#UUID-268fa752-8b49-e971-f4c4-833692ee6fec"><div><div class="title"><h6 class="title">Configure a Publisher in Hyper-V</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec_body"><p>Download the <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.vhdx" target="_blank" rel="noopener">VHDX file</a>, and then perform these steps in the Hyper-V console.</p><p>If you want to validate the integrity of the VHDX, you can download the SHA hash from <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.vhdx.SHA256.txt" target="_blank" rel="noopener">here</a>.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Launch the Microsoft Hyper-V Manager and select the Action <span class="bold bold"><strong>New &gt; Virtual Machine...</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-5b442cc9-77ab-67a1-0ce1-c3414dd00f58.png" style="max-width: 405px; " alt="image1.png" title="image1.png"></img></td></tr></table></div></li><li class="step"><p>Enter a VM Name (like NPA Publisher), optionally an installation location, and then click <span class="bold bold"><strong>Next</strong></span>.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>Name the Publisher to describe its location and/or application use.</p></div><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a815e8e4-72c9-49e0-4b86-9c1adf4d8dff.png" style="max-width: 405px; " alt="image2.png" title="image2.png"></img></td></tr></table></div></li><li class="step"><p>Leave <span class="bold bold"><strong>Generation 1</strong></span> selected and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-c7e49b27-0586-8392-a4a0-ec2b8061b66d.png" style="max-width: 405px; " alt="image3.png" title="image3.png"></img></td></tr></table></div></li><li class="step"><p>Specify the amount of memory for the NPA Publisher (2048 is recommended for most use cases) and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6e176f42-b2b5-6d48-058e-a62e0d44f7cb.png" style="max-width: 405px; " alt="image4.png" title="image4.png"></img></td></tr></table></div></li><li class="step"><p>Select a network adapter to attach the NPA Publisher that has Internet access and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-3571938a-54ae-3d11-20e2-f8828e603ac9.png" style="max-width: 405px; " alt="image5.png" title="image5.png"></img></td></tr></table></div></li><li class="step"><p>Select <span class="bold bold"><strong>Use an existing virtual hard disk</strong></span> and then <span class="bold bold"><strong>Browse</strong></span> to the downloaded VHDX file. When finished, click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cb568cb0-6b5a-0736-8593-3a743c940ada.png" style="max-width: 405px; " alt="image6.png" title="image6.png"></img></td></tr></table></div></li><li class="step"><p>Confirm the Hyper-V Wizard configuration options and click <span class="bold bold"><strong>Finish</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-edd72f59-b488-2760-e3a2-d1bc176c0a7f.png" style="max-width: 405px; " alt="image7.png" title="image7.png"></img></td></tr></table></div></li><li class="step"><p>Now you can Start your NPA Publisher in Hyper-V.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-b4af5d06-9e83-dcf3-1c75-e35684adcbd9.png" style="max-width: 405px; " alt="image8.png" title="image8.png"></img></td></tr></table></div></li><li class="step"><p>Get the IP address provided by the Hyper-V Manager to SSH into a Publisher for Network Settings.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-8fa4e382-1cb9-a8b8-83c6-660d33047972.png" style="max-width: 405px; " alt="image9.png" title="image9.png"></img></td></tr></table></div></li></ol></div><h7 id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h7><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="step"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-50f2587b-041a-a3ac-f2e2-e90fa4b9d2db" data-time-modified="December 15, 2021" data-publication-date="" id="UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8_body" data-parent="#UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8"><div><div class="title"><h6 class="title">Configure a Publisher in VMWare ESXi</h6></div></div></a></div></div><div class="panel-body collapse" id="UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8_body"><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Download the OVA from the Publisher page in the Netskope UI. Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Publishers</strong></span> and click <span class="bold bold"><strong>Publisher OVA</strong></span> . </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:315px;
                            "><tr><td style="padding:0;"><img src="image/uuid-98d39551-5d1e-be32-1c82-bc5c61f86f75.png" style="max-width: 315px; " alt="PublisherOVAlink.png" title="PublisherOVAlink.png"></img></td></tr></table></div></li><li class="step"><p>If you want to validate the integrity of the OVA, you can download the SHA hash from <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.ova.SHA256.txt" target="_blank" rel="noopener">here</a>.</p></li><li class="step"><p>Install this OVA into your ESXi machine.</p></li><li class="step"><p>SSH into the publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>). When prompted,  change your password. After you change it, the system auto-disconnects your SSH session, so you will need to reconnect and login with their new password before proceeding.</p></li><li class="step"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="step"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div></div></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041">Deploy a Publisher</a></li><li><a href="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553">Requirements and Recommendations</a></li><li><a href="#UUID-4b18f7bc-a13d-3095-ad3b-b675be6eb132">Secure Publisher Configuration and Hardening</a></li><li><a href="#UUID-85164666-c436-ac4a-cc1a-988b2bf22678">Create a New Publisher</a></li><li><a href="#UUID-a91211c6-d39a-e29f-90fa-37d17babe774">Configure a Publisher in AWS</a></li><li><a href="#UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b">Configure a Publisher in Azure</a></li><li><a href="#UUID-511a8428-4a0a-c45b-506a-5e1e569a6404">Configure a Publisher in GCP</a></li><li><a href="#UUID-20b191de-6f07-cb24-1a85-e952b64b7393">Configure a Publisher in CentosOS</a></li><li><a href="#UUID-268fa752-8b49-e971-f4c4-833692ee6fec">Configure a Publisher in Hyper-V</a></li><li><a href="#UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8">Configure a Publisher in VMWare ESXi</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Deploy%20a%20Publisher%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Deploy%20a%20Publisher%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="publisher-management.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="deploy-a-publisher.html#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_section-idm4547044674564832680183732553">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2022 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">January 21, 2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
