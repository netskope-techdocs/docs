<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Creating Expressions</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="merging-results-from-different-explores.html" title="Merging Results from Different Explores"></link><link rel="next" href="filter-expressions.html" title="Filter Expressions"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="admin-console.html">Admin Console</a></li><li class="breadcrumb-link"><a href="advanced-analytics.html">Advanced Analytics</a></li><li class="breadcrumb-link"><a href="explore-page.html">Explore Page</a></li><li class="breadcrumb-node">Creating Expressions</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="merging-results-from-different-explores.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="filter-expressions.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-448d08cf-615f-93d9-d551-c844a9286c22" data-permalink="creating-expressions.html" data-topic-level="1" data-relative-prefix="" data-time-modified="September 16, 2020" data-publication-date="" id="UUID-93d58199-0db8-981a-fce1-0ef5a1b59c9f"><div class="titlepage"><div><div class="title"><h5 class="title">Creating Expressions</h5></div></div></div><p>Expressions are used to perform calculations for:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Table calculations</p></li><li class="listitem"><p>Custom fields</p></li><li class="listitem"><p>Custom filters</p></li></ul></div><p>An expression is built from a combination of these elements:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>NULL: The value NULL indicates there is no data, and can be useful when you want to check that something is empty or doesn’t exist.</p></li><li class="listitem"><p>A constant: A constant is an unchanging value you provide. A number such as 7 or a string such as Completed are constants.</p></li><li class="listitem"><p>A field: A reference to a field, which includes dimensions, measures, and table calculations.</p></li><li class="listitem"><p>An operator: There are several types of operators:</p><p>Mathematical operators (such as +, -, *, and /)</p><p>Comparison operators (such as =, &gt;, and &lt;=)</p><p>Logical operators (such as AND, OR, and NOT)</p></li><li class="listitem"><p>A function: These are similar in nature to Excel functions, which you may already be familiar with. Functions let you transform your data or reference data in complex ways.</p></li></ul></div><p><span class="bold bold"><strong>Creating an Expressions</strong></span></p><p>Table calculations, custom fields, and custom filters use the expression editor. As you type your expression, the system prompts you with functions, operators, and field names that you might want to use.</p><p>The following sections show how to use the expression editor.</p><p><span class="bold bold"><strong>Seeing All Suggestions</strong></span></p><p>Type a space to see a list of all the fields, functions, and operators that you can choose from. It’s quite a long list, so you will typically want to start typing to shorten the list to the items you’re interested in.</p><p><span class="bold bold"><strong>Adding a Field</strong></span></p><p>To include a field in your expression, start typing the field’s name. As you type, the editor will narrow your search to a list of fields and functions that contain what you’ve typed. You can type the name of the field as it appears on the Explore page.</p><p>When you select a field from the list, it's added to your expression. This ensures that all of your fields have unique names in your expression.</p><p><span class="bold bold"><strong>Adding Operators</strong></span></p><p>You can add logical operators like AND, OR, and NOT to your expression if needed. Ordinarily AND operators are evaluated before OR operators, but you can override this behavior by using parentheses. You also can use comparison operators (such as &gt;, =, and &lt;=) and mathematical operators (such as + and *).</p><p>When your cursor is on an operator, you can check the notes that are displayed to the right of your expression in the information pane for proper use.</p><p>The other thing to keep in mind is how true and false is handled. You should use yes and no instead of true and false. These logical constants are not the same thing as the words "yes" and "no", which are enclosed in quotes.</p><div class="mediaobject"><img src="image/uuid-f2ee7597-cb16-7aa4-f008-a0ffe32d08f1.png" style="" alt="AddingOperators.png"></img></div><p><span class="bold bold"><strong>Adding Functions</strong></span></p><p>To include a function in your expression, start typing the function’s name. As you type the editor will narrow down your search to a list of fields and functions that contain what you’ve typed.</p><p>Functions may be constructed of arguments (or variables) that require a certain type, such as a field, a number, or yes/no. When your cursor is on a function, you can check the notes that are displayed to the right of your expression in the information pane to understand which arguments you need to provide, and what type.</p><p>To see the full list of functions that is offered, see the Functions and Operators page.</p><p>You can read more detailed instructions about using functions in the section of this page called Using Functions.</p><div class="mediaobject"><img src="image/uuid-de48c024-ba6b-0be3-6d6d-d1b2fff2b944.png" style="" alt="AddingFunctions.png"></img></div><p><span class="bold bold"><strong>Using Error Hints and the Information Pane</strong></span></p><p>Note that as you type an expression, the system displays an information pane to the right. This pane provides documentation and suggestions, especially if you have an error in your expression.</p><p>As shown above, the editor provides:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Error Highlighting: In the editor itself, the system underlines in red any parts of the expression that are not yet correct.</p></li><li class="listitem"><p>Suggestions and Error Details: The top part of the information pane gives suggestions about what to add next in your expression. If there’s an error, it explains why the error is occurring. If there are multiple errors, the error that it shows to you is based on the location of your cursor.</p></li><li class="listitem"><p>Documentation: In the lower part of the information pane, the system displays documentation about the function or operator you’re working with, based on your cursor position. For example, while you type the first argument of an if() function, the system provides the information that the first argument should evaluate as true or false. You can click on the function name in that section to navigate to the documentation for that function.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-a99690bd-783e-e381-75eb-743e07dbe329.jpg" style="" alt="ErrorHints.jpg"></img></div><p><span class="bold bold"><strong>Including Comments</strong></span></p><p>You can include comments in expressions by beginning the comment line with #:</p><p><span class="bold bold"><strong>Using Fields</strong></span></p><p>Sometimes you’ll want to use the value of a field (a dimension, measure, or table calculation) in an expression. You might want to add the value of the field to something else, check that it has a certain value, include it in a function, or many other possibilities.</p><p>As described above, just type the name of the field into the expression editor, and the system will help you find the correct way to reference it. When you add a field to an expression, the system uses the field’s identifier, which looks like ${view_name.field_name}. This identifier does not always match the name of the field in the Field Picker, but it’s okay if you don’t know what it is. Just type the field name as it appears in the Field Picker and the expression editor will show you the Field Picker name and the identifier together.</p><p>There are several ways you might want to retrieve a value:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Get a Value from the Same Row: The most basic way to use a field is to reference it directly. For example, your expression might use ${product.category}. When you do this, you’re saying “for any given row, grab the Product Category from that row.”</p></li><li class="listitem"><p>Get a Value from a Different Row: You can also get a field’s value from a different row. For example, you might want the logic “for any given row, grab the Product Category from the previous row.” To do that, you can use an offset function (see a list of positional functions here). It might look like this: offset(${product.category}, -1).</p></li><li class="listitem"><p>Get a Value from a Pivoted Column: You can also get values from pivoted columns. For example, you might want the logic “for any given row, grab the Total Sales from the first pivoted column.” To work with pivoted columns, you’ll need to use pivot functions (see a list of pivot functions here). It might look like this: pivot_index${alert_event.event_count}, 1).</p></li><li class="listitem"><p>Get a Total from a Row or Column: If you added totals to your Explore, you can get total values from the column or row by adding :total (for column totals) or :row_total (for row totals) to the field name, using the format ${field_name:total}. For example, if you want a percentage of the total of an Alerts count, you could create a table calculation like this: ${alert_event.event_count} / ${alert_event.event_count:total}.</p></li></ul></div><p><span class="bold bold"><strong>Using Functions</strong></span></p><p>Expressions often include one or more functions, which help you to retrieve certain data or calculate certain things. They are similar in nature to Excel functions.</p><p>If you are not familiar with functions, they take the form of a name followed by two parentheses, like this: my_function(). Sometimes you’ll need to provide information within those parentheses, separated by commas. These bits of information are called “arguments” and look like this: my_function(argument_1, argument_2).</p><p>For example, the now function does not take any arguments, and gives you the current date and time. You’d use it like this: now().</p><p>In contrast, the round function does take one argument, which is a number. You’d use it like this: round(3.2). The result you would get is 3.</p><p>There are two ways to know which arguments you’ll need to provide, if any:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The information pane that appears to the right of the expression editor will provide some documentation about the function you are writing.</p></li><li class="listitem"><p>You can also navigate directly to the Functions and Operators page and look up the function you want to use.</p></li></ul></div><p>To solidify this concept, consider the contains function which has documentation that looks like this:</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><thead><tr><th class="th" data-priority="1"><p>FUNCTION</p></th><th class="th" data-priority="1"><p>SYNTAX</p></th><th class="th" data-priority="1"><p>PURPOSE</p></th></tr></thead><tbody><tr><td class="td"><p>contains</p></td><td class="td"><p>contains (string, search_string)</p></td><td class="td"><p>Returns Yes if string contains search_string, and No otherwise</p></td></tr></tbody></table></div><p>You can see that two arguments are required. They have the names string and search_string, but that doesn’t mean you need to type the exact word “string” and “search_string” into the function. These are just names for the arguments that you’ll replace with something. Reading the purpose, we see that string should be a field or other value we want to search in, while the search_string is the thing we want to search for. An example might be:</p><p>If the word “great” appears in the customer feedback this function will give us a result of Yes, otherwise it will give a result of No.</p><p>The final thing to know is that you can put functions inside of other functions to handle whatever complex logic you want. As long as the result of the inner function is appropriate for the arguments of the outer function, it will work. For example:</p><div class="mediaobject"><img src="image/uuid-9eb1afce-28fc-0090-ff80-d6346d89db3f.jpg" style="" alt="UsingFunctionsEx2.jpg"></img></div><p>Here we’ve nested the is_null function inside of an if function, which is itself inside a contains function. It works like this:</p><p>The is_null() function checks whether or not we have customer feedback text.</p><p>Next, the if() function uses that result and returns the customer feedback text if we have it, or otherwise returns the customer comment text.</p><p>Finally, the contains() function uses the text returned by the if() function and searches it for the word “great”.</p><p>Putting it all together, logically this expression means “If we have customer feedback then search in that, but if we don’t, search in customer comments instead. In both cases, look for the word ‘great’ “.</p></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Creating%20Expressions%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Creating%20Expressions%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="merging-results-from-different-explores.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="filter-expressions.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">September 16, 2020</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
