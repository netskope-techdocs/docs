<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Explicit Proxy</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063177294" title="Troubleshooting"></link><link rel="next" href="explicit-proxy.html#UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809" title="PAC File Template"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var propertyid = '256425220';

						(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
						(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
						m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
						})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
						
						ga('create', propertyid, 'auto');
						ga('send', 'pageview');
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="traffic-management.html">Traffic Management</a></li><li class="breadcrumb-link"><a href="netskope-secure-web-gateway.html"> <span class="phrase"><span class="phrase">Netskope Secure Web Gateway</span></span></a></li><li class="breadcrumb-link"><a href="choose-a-traffic-steering-method.html">Choose a Traffic Steering Method</a></li><li class="breadcrumb-node">Explicit Proxy</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063177294">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="explicit-proxy.html#UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-d7c5f180-4bd5-b5ce-ced2-067638188c50" data-permalink="explicit-proxy.html" data-topic-level="1" data-relative-prefix="" data-time-modified="March 18, 2021" data-publication-date="" id="UUID-723b5232-f80a-d498-0005-72c6afe913a7"><div class="titlepage"><div><div class="title"><h5 class="title">Explicit Proxy</h5></div></div></div><p>Explicit Proxy provides a new method for steering traffic from any device to the Netskope Cloud using a Proxy Auto Configuration (PAC) file. A PAC file tells a browser to forward traffic to a proxy server instead of the destination server. When a user opens a browser, the browser sends a request for the default PAC file, and then uses the instructions to forward traffic to the Netskope URL in the PAC file.</p><p>A PAC file template can be downloaded from the Netskope UI for you to create your own custom PAC file. Your modified PAC file can be hosted on-premises so that devices can retrieve it automatically. User identity can be retrieved with the help of an IdP that uses SAML 2.0, and this can be configured in the Netskope UI under <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Forward Proxy &gt; SAML</strong></span>.</p><p>Explicit Proxy can be used these ways:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Modify the <a class="link" href="explicit-proxy.html#UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809" title="PAC File Template">PAC file template</a> (or modify an existing PAC file), and then distribute your PAC file. Click <span class="bold bold"><strong>Download Sample PAC File</strong></span> on the Explicit Proxy page to get a PAC file template you can modify. </p></li><li class="listitem"><p>Configure SAML 2.0 authentication using <a class="xref" href="saml-forward-proxy.html" title="SAML Forward Proxy"><span class="xreftitle">SAML Forward Proxy</span></a>. The user's browser must be set up to use port <code class="literal">8081</code>. Authentication is used to get the identity of the user, which can be applied in Policies, for example. To enable authentication after configuring the forward proxy, refer to <a class="xref" href="forward-proxy-authentication.html" title="Forward Proxy Authentication"><span class="xreftitle">Forward Proxy Authentication</span></a>.</p></li><li class="listitem"><p>Endpoints can be configured to use the proxy directly. For example:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-939eb087-7727-d00b-3924-94eb33d7e788.png" style="max-width: 360px; " alt="ExplicitProxyNetwork.png"></img></td></tr></table></div></li><li class="listitem"><p>HTTP and HTTPS traffic (typically on ports 80, and 443, but Netskope also supports custom ports) for the Explicit Proxy. Do not send any other traffic through these ports.</p></li><li class="listitem"><p>Consider these factors for Box endpoints when using explicit proxy:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Policies that are user specific for access to specific apps, instances, or SSL decryption, etc., will not be enforced.</p></li><li class="listitem"><p>Events (Application/Page) will not show user information, but will show the IP address of the user.</p></li></ul></div></li></ul></div><p>If the Netskope root CA has not been previously installed on the endpoint, download it from the Netskope UI at <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Manage &gt; Certificates &gt; Signing CA</strong></span> and install it on your endpoints (for macOS: install it in Certificates from the Keychain Access tool). There is a separate certificate available for remote users.</p><p>When finished with the above preparations, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Traffic Steering &gt; Explicit Proxy</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:495px;
                            "><tr><td style="padding:0;"><img src="image/uuid-889454b0-a9b3-47b2-2acd-7f218c8c86ee.png" style="max-width: 495px; " alt="NewEPpage.png"></img></td></tr></table></div><p>There are three sections on this page:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Explicit Proxy Destination: Provides the explicit proxy destination and a link to download the Netskope Certificate for remote users (also available on the Certificates CA Signing .</p></li><li class="listitem"><p>Tenant Lookup Service: Prompts remote users to enter the Tenant Name shown here. Once configured, users will be prompted for an organization (tenant) name that is provided to them by their administrators. Once validated, users will be redirected to authenticate with their IdP before being able to access the web. Authentication is mandatory for remote users.</p><p>To view an example of the notification users see, click <span class="bold bold"><strong>Preview</strong></span>.</p></li><li class="listitem"><p>IP Address <span class="phrase">Allowlist</span> &amp; User Identity: Enables you to allow unauthenticated traffic.</p><p>To use this feature, click <span class="bold bold"><strong>Edit</strong></span> and enable the <span class="bold bold"><strong>Allow</strong></span> toggle.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ca7c88b2-a5fd-daa2-4cca-d41358c7dac9.png" style="max-width: 405px; " alt="Edit_Unauthenticated_Traffic.png"></img></td></tr></table></div><p>This section also allows you to specify source egress IP addresses for your on-premises users.</p></li></ul></div><p>To <span class="phrase">allowlist</span> your on-premises source egress IP address(es) in the Netskope UI:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to the IP Address <span class="phrase">Allowlist</span> &amp; User Identity section, click <span class="bold bold"><strong>Add IP Address</strong></span>.</p></li><li class="listitem"><p>Enter a name and the source egress IP address for your office location to <span class="phrase">allowlist</span> so that Netskope will accept the traffic from devices behind the IP address or CIDR. Multiple IP addresses need to be separated by a comma, or you can add them separately using the <span class="bold bold"><strong>Add Another</strong></span> button. When finished, click <span class="bold bold"><strong>Add</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-65fbedec-d444-2dec-93ae-8a9d9d3ec3a9.png" style="max-width: 405px; " alt="ExplicitProxyAdd.png"></img></td></tr></table></div></li></ol></div><p>To edit or delete an IP address or range, click the <span class="inlinemediaobject"><img style="max-width: 23px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png"></img></span> icon. Only one IP address or CIDR can be edited at a time.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:315px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ea76db40-e68a-34c7-f7eb-c446060c09dd.png" style="max-width: 315px; " alt="ProxyChainingEdit.png"></img></td></tr></table></div><p>Now your web traffic will be sent to the Netskope Cloud and users will be asked to authenticate to the IdP once they attempt to navigate to any website. To see events in SkopeIT, go to <span class="bold bold"><strong>SkopeIT &gt; Page Events</strong></span> and click the <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-724e8bf0-ddb1-1eae-141d-155a10809ac9.png" alt="UEBAMagnifier.png"></img></span> icon to view page event details. Explicit proxy will be shown as the access method.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:225px;
                            "><tr><td style="padding:0;"><img src="image/uuid-9570536a-8c49-b7dc-2530-a22afde793f4.png" style="max-width: 225px; " alt="ExplicitProxyPageEvents.png"></img></td></tr></table></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809"><div class="titlepage"><div><div class="title"><h6 class="title">PAC File Template</h6></div></div></div><p>Modify this PAC file template for Explicit Proxy. Enter the domains not to proxy, the substrings (HTTP/HTTPS) to proxy, and your tenant name.</p><pre class="programlisting">function FindProxyForURL(url, host) { 
    /* Normalize the URL for pattern matching */
    url = url.toLowerCase();
    host = host.toLowerCase();
    /* Don't proxy local hostnames */
    if (isPlainHostName(host)) {
        return 'DIRECT';
    }
     /* Don't proxy IDP servers. */
    /*
    if ((dnsDomainIs(host, '.okta.com'))
    {
        return 'DIRECT'
    }
    */
    /* Don't proxy for domains. */
    /*
    if ((dnsDomainIs(host, '.domain-example1.com')) ||
    (dnsDomainIs(host, '.domain-example2.com')))
    {
        return 'DIRECT'
    }
    */
    if (url.substring(0, 5) === 'http:' || url.substring(0, 6) === 'https:') {
        return 'PROXY eproxy-<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com:8081';
    }
    return 'DIRECT';
}</pre></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-723b5232-f80a-d498-0005-72c6afe913a7">Explicit Proxy</a></li><li><a href="#UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809">PAC File Template</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Explicit%20Proxy%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Explicit%20Proxy%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="gre.html#UUID-90f424bd-cbb8-9a6f-4690-aa46fbc20ddd_N1573063177294">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="explicit-proxy.html#UUID-723b5232-f80a-d498-0005-72c6afe913a7_section-idm231895294666809">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">March 18, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
